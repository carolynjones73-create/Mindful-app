(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ah(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Gu={exports:{}},ui={},Qu={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=Symbol.for("react.element"),Dh=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Bh=Symbol.for("react.provider"),Fh=Symbol.for("react.context"),Wh=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),Hh=Symbol.for("react.memo"),Vh=Symbol.for("react.lazy"),yl=Symbol.iterator;function Kh(t){return t===null||typeof t!="object"?null:(t=yl&&t[yl]||t["@@iterator"],typeof t=="function"?t:null)}var Ju={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yu=Object.assign,Xu={};function Qr(t,e,r){this.props=t,this.context=e,this.refs=Xu,this.updater=r||Ju}Qr.prototype.isReactComponent={};Qr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zu(){}Zu.prototype=Qr.prototype;function ga(t,e,r){this.props=t,this.context=e,this.refs=Xu,this.updater=r||Ju}var ya=ga.prototype=new Zu;ya.constructor=ga;Yu(ya,Qr.prototype);ya.isPureReactComponent=!0;var vl=Array.isArray,ec=Object.prototype.hasOwnProperty,va={current:null},tc={key:!0,ref:!0,__self:!0,__source:!0};function rc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ec.call(e,n)&&!tc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Kn,type:t,key:i,ref:o,props:s,_owner:va.current}}function Gh(t,e){return{$$typeof:Kn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wa(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kn}function Qh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var wl=/\/+/g;function Ii(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Qh(""+t.key):e.toString(36)}function bs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kn:case Dh:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Ii(o,0):n,vl(s)?(r="",t!=null&&(r=t.replace(wl,"$&/")+"/"),bs(s,e,r,"",function(c){return c})):s!=null&&(wa(s)&&(s=Gh(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",vl(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Ii(i,a);o+=bs(i,e,r,l,s)}else if(l=Kh(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Ii(i,a++),o+=bs(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ss(t,e,r){if(t==null)return t;var n=[],s=0;return bs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Jh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _e={current:null},js={transition:null},Yh={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:js,ReactCurrentOwner:va};function nc(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:ss,forEach:function(t,e,r){ss(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ss(t,function(){e++}),e},toArray:function(t){return ss(t,function(e){return e})||[]},only:function(t){if(!wa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=Qr;D.Fragment=Mh;D.Profiler=zh;D.PureComponent=ga;D.StrictMode=Uh;D.Suspense=qh;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yh;D.act=nc;D.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Yu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=va.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ec.call(e,l)&&!tc.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Kn,type:t.type,key:s,ref:i,props:n,_owner:o}};D.createContext=function(t){return t={$$typeof:Fh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bh,_context:t},t.Consumer=t};D.createElement=rc;D.createFactory=function(t){var e=rc.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:Wh,render:t}};D.isValidElement=wa;D.lazy=function(t){return{$$typeof:Vh,_payload:{_status:-1,_result:t},_init:Jh}};D.memo=function(t,e){return{$$typeof:Hh,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=js.transition;js.transition={};try{t()}finally{js.transition=e}};D.unstable_act=nc;D.useCallback=function(t,e){return _e.current.useCallback(t,e)};D.useContext=function(t){return _e.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return _e.current.useDeferredValue(t)};D.useEffect=function(t,e){return _e.current.useEffect(t,e)};D.useId=function(){return _e.current.useId()};D.useImperativeHandle=function(t,e,r){return _e.current.useImperativeHandle(t,e,r)};D.useInsertionEffect=function(t,e){return _e.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return _e.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return _e.current.useMemo(t,e)};D.useReducer=function(t,e,r){return _e.current.useReducer(t,e,r)};D.useRef=function(t){return _e.current.useRef(t)};D.useState=function(t){return _e.current.useState(t)};D.useSyncExternalStore=function(t,e,r){return _e.current.useSyncExternalStore(t,e,r)};D.useTransition=function(){return _e.current.useTransition()};D.version="18.3.1";Qu.exports=D;var E=Qu.exports;const Xh=Ah(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=E,ef=Symbol.for("react.element"),tf=Symbol.for("react.fragment"),rf=Object.prototype.hasOwnProperty,nf=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sf={key:!0,ref:!0,__self:!0,__source:!0};function sc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)rf.call(e,n)&&!sf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:ef,type:t,key:i,ref:o,props:s,_owner:nf.current}}ui.Fragment=tf;ui.jsx=sc;ui.jsxs=sc;Gu.exports=ui;var u=Gu.exports,ic={exports:{}},$e={},oc={exports:{}},ac={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,O){var $=T.length;T.push(O);e:for(;0<$;){var Q=$-1>>>1,ne=T[Q];if(0<s(ne,O))T[Q]=O,T[$]=ne,$=Q;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var O=T[0],$=T.pop();if($!==O){T[0]=$;e:for(var Q=0,ne=T.length,fr=ne>>>1;Q<fr;){var Ze=2*(Q+1)-1,P=T[Ze],B=Ze+1,te=T[B];if(0>s(P,$))B<ne&&0>s(te,P)?(T[Q]=te,T[B]=$,Q=B):(T[Q]=P,T[Ze]=$,Q=Ze);else if(B<ne&&0>s(te,$))T[Q]=te,T[B]=$,Q=B;else break e}}return O}function s(T,O){var $=T.sortIndex-O.sortIndex;return $!==0?$:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(T){for(var O=r(c);O!==null;){if(O.callback===null)n(c);else if(O.startTime<=T)n(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=r(c)}}function x(T){if(v=!1,h(T),!w)if(r(l)!==null)w=!0,qe(k);else{var O=r(c);O!==null&&en(x,O.startTime-T)}}function k(T,O){w=!1,v&&(v=!1,y(N),N=-1),g=!0;var $=p;try{for(h(O),f=r(l);f!==null&&(!(f.expirationTime>O)||T&&!H());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var ne=Q(f.expirationTime<=O);O=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===r(l)&&n(l),h(O)}else n(l);f=r(l)}if(f!==null)var fr=!0;else{var Ze=r(c);Ze!==null&&en(x,Ze.startTime-O),fr=!1}return fr}finally{f=null,p=$,g=!1}}var S=!1,j=null,N=-1,M=5,R=-1;function H(){return!(t.unstable_now()-R<M)}function dr(){if(j!==null){var T=t.unstable_now();R=T;var O=!0;try{O=j(!0,T)}finally{O?hr():(S=!1,j=null)}}else S=!1}var hr;if(typeof m=="function")hr=function(){m(dr)};else if(typeof MessageChannel<"u"){var rs=new MessageChannel,ns=rs.port2;rs.port1.onmessage=dr,hr=function(){ns.postMessage(null)}}else hr=function(){_(dr,0)};function qe(T){j=T,S||(S=!0,hr())}function en(T,O){N=_(function(){T(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,qe(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(T){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var $=p;p=O;try{return T()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=p;p=T;try{return O()}finally{p=$}},t.unstable_scheduleCallback=function(T,O,$){var Q=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Q+$:Q):$=Q,T){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=$+ne,T={id:d++,callback:O,priorityLevel:T,startTime:$,expirationTime:ne,sortIndex:-1},$>Q?(T.sortIndex=$,e(c,T),r(l)===null&&T===r(c)&&(v?(y(N),N=-1):v=!0,en(x,$-Q))):(T.sortIndex=ne,e(l,T),w||g||(w=!0,qe(k))),T},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(T){var O=p;return function(){var $=p;p=O;try{return T.apply(this,arguments)}finally{p=$}}}})(ac);oc.exports=ac;var of=oc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=E,Re=of;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lc=new Set,Cn={};function lr(t,e){Br(t,e),Br(t+"Capture",e)}function Br(t,e){for(Cn[t]=e,t=0;t<e.length;t++)lc.add(e[t])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=Object.prototype.hasOwnProperty,lf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xl={},_l={};function uf(t){return fo.call(_l,t)?!0:fo.call(xl,t)?!1:lf.test(t)?_l[t]=!0:(xl[t]=!0,!1)}function cf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function df(t,e,r,n){if(e===null||typeof e>"u"||cf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ke(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var xa=/[\-:]([a-z])/g;function _a(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xa,_a);fe[e]=new ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xa,_a);fe[e]=new ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xa,_a);fe[e]=new ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new ke(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function ka(t,e,r,n){var s=fe.hasOwnProperty(e)?fe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(df(e,r,s,n)&&(r=null),n||s===null?uf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var xt=af.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=Symbol.for("react.element"),kr=Symbol.for("react.portal"),Sr=Symbol.for("react.fragment"),Sa=Symbol.for("react.strict_mode"),po=Symbol.for("react.profiler"),uc=Symbol.for("react.provider"),cc=Symbol.for("react.context"),ba=Symbol.for("react.forward_ref"),mo=Symbol.for("react.suspense"),go=Symbol.for("react.suspense_list"),ja=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),dc=Symbol.for("react.offscreen"),kl=Symbol.iterator;function tn(t){return t===null||typeof t!="object"?null:(t=kl&&t[kl]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Ri;function hn(t){if(Ri===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ri=e&&e[1]||""}return`
`+Ri+t}var $i=!1;function Ai(t,e){if(!t||$i)return"";$i=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$i=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?hn(t):""}function hf(t){switch(t.tag){case 5:return hn(t.type);case 16:return hn("Lazy");case 13:return hn("Suspense");case 19:return hn("SuspenseList");case 0:case 2:case 15:return t=Ai(t.type,!1),t;case 11:return t=Ai(t.type.render,!1),t;case 1:return t=Ai(t.type,!0),t;default:return""}}function yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sr:return"Fragment";case kr:return"Portal";case po:return"Profiler";case Sa:return"StrictMode";case mo:return"Suspense";case go:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cc:return(t.displayName||"Context")+".Consumer";case uc:return(t._context.displayName||"Context")+".Provider";case ba:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ja:return e=t.displayName||null,e!==null?e:yo(t.type)||"Memo";case bt:e=t._payload,t=t._init;try{return yo(t(e))}catch{}}return null}function ff(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(e);case 8:return e===Sa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ut(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pf(t){var e=hc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function os(t){t._valueTracker||(t._valueTracker=pf(t))}function fc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=hc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vo(t,e){var r=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Sl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ut(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pc(t,e){e=e.checked,e!=null&&ka(t,"checked",e,!1)}function wo(t,e){pc(t,e);var r=Ut(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xo(t,e.type,r):e.hasOwnProperty("defaultValue")&&xo(t,e.type,Ut(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function xo(t,e,r){(e!=="number"||Ds(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fn=Array.isArray;function $r(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ut(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _o(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jl(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(b(92));if(fn(r)){if(1<r.length)throw Error(b(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ut(r)}}function mc(t,e){var r=Ut(e.value),n=Ut(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function El(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ko(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var as,yc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=as.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mf=["Webkit","ms","Moz","O"];Object.keys(yn).forEach(function(t){mf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yn[e]=yn[t]})});function vc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||yn.hasOwnProperty(t)&&yn[t]?(""+e).trim():e+"px"}function wc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=vc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var gf=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function So(t,e){if(e){if(gf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function bo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function Ea(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eo=null,Ar=null,Lr=null;function Nl(t){if(t=Jn(t)){if(typeof Eo!="function")throw Error(b(280));var e=t.stateNode;e&&(e=pi(e),Eo(t.stateNode,t.type,e))}}function xc(t){Ar?Lr?Lr.push(t):Lr=[t]:Ar=t}function _c(){if(Ar){var t=Ar,e=Lr;if(Lr=Ar=null,Nl(t),e)for(t=0;t<e.length;t++)Nl(e[t])}}function kc(t,e){return t(e)}function Sc(){}var Li=!1;function bc(t,e,r){if(Li)return t(e,r);Li=!0;try{return kc(t,e,r)}finally{Li=!1,(Ar!==null||Lr!==null)&&(Sc(),_c())}}function On(t,e){var r=t.stateNode;if(r===null)return null;var n=pi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(b(231,e,typeof r));return r}var No=!1;if(gt)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){No=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{No=!1}function yf(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var vn=!1,Ms=null,Us=!1,To=null,vf={onError:function(t){vn=!0,Ms=t}};function wf(t,e,r,n,s,i,o,a,l){vn=!1,Ms=null,yf.apply(vf,arguments)}function xf(t,e,r,n,s,i,o,a,l){if(wf.apply(this,arguments),vn){if(vn){var c=Ms;vn=!1,Ms=null}else throw Error(b(198));Us||(Us=!0,To=c)}}function ur(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function jc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tl(t){if(ur(t)!==t)throw Error(b(188))}function _f(t){var e=t.alternate;if(!e){if(e=ur(t),e===null)throw Error(b(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Tl(s),t;if(i===n)return Tl(s),e;i=i.sibling}throw Error(b(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(b(189))}}if(r.alternate!==n)throw Error(b(190))}if(r.tag!==3)throw Error(b(188));return r.stateNode.current===r?t:e}function Ec(t){return t=_f(t),t!==null?Nc(t):null}function Nc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nc(t);if(e!==null)return e;t=t.sibling}return null}var Tc=Re.unstable_scheduleCallback,Cl=Re.unstable_cancelCallback,kf=Re.unstable_shouldYield,Sf=Re.unstable_requestPaint,re=Re.unstable_now,bf=Re.unstable_getCurrentPriorityLevel,Na=Re.unstable_ImmediatePriority,Cc=Re.unstable_UserBlockingPriority,zs=Re.unstable_NormalPriority,jf=Re.unstable_LowPriority,Pc=Re.unstable_IdlePriority,ci=null,ot=null;function Ef(t){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(ci,t,void 0,(t.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:Cf,Nf=Math.log,Tf=Math.LN2;function Cf(t){return t>>>=0,t===0?32:31-(Nf(t)/Tf|0)|0}var ls=64,us=4194304;function pn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=pn(a):(i&=o,i!==0&&(n=pn(i)))}else o=r&~s,o!==0?n=pn(o):i!==0&&(n=pn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Je(e),s=1<<r,n|=t[r],e&=~s;return n}function Pf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Of(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Je(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Pf(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Co(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Oc(){var t=ls;return ls<<=1,!(ls&4194240)&&(ls=64),t}function Di(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gn(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Je(e),t[e]=r}function If(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Je(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Ta(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Je(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var F=0;function Ic(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rc,Ca,$c,Ac,Lc,Po=!1,cs=[],Ot=null,It=null,Rt=null,In=new Map,Rn=new Map,Et=[],Rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pl(t,e){switch(t){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":In.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(e.pointerId)}}function nn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Jn(e),e!==null&&Ca(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $f(t,e,r,n,s){switch(e){case"focusin":return Ot=nn(Ot,t,e,r,n,s),!0;case"dragenter":return It=nn(It,t,e,r,n,s),!0;case"mouseover":return Rt=nn(Rt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return In.set(i,nn(In.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Rn.set(i,nn(Rn.get(i)||null,t,e,r,n,s)),!0}return!1}function Dc(t){var e=Yt(t.target);if(e!==null){var r=ur(e);if(r!==null){if(e=r.tag,e===13){if(e=jc(r),e!==null){t.blockedOn=e,Lc(t.priority,function(){$c(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Es(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Oo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);jo=n,r.target.dispatchEvent(n),jo=null}else return e=Jn(r),e!==null&&Ca(e),t.blockedOn=r,!1;e.shift()}return!0}function Ol(t,e,r){Es(t)&&r.delete(e)}function Af(){Po=!1,Ot!==null&&Es(Ot)&&(Ot=null),It!==null&&Es(It)&&(It=null),Rt!==null&&Es(Rt)&&(Rt=null),In.forEach(Ol),Rn.forEach(Ol)}function sn(t,e){t.blockedOn===e&&(t.blockedOn=null,Po||(Po=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,Af)))}function $n(t){function e(s){return sn(s,t)}if(0<cs.length){sn(cs[0],t);for(var r=1;r<cs.length;r++){var n=cs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ot!==null&&sn(Ot,t),It!==null&&sn(It,t),Rt!==null&&sn(Rt,t),In.forEach(e),Rn.forEach(e),r=0;r<Et.length;r++)n=Et[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Et.length&&(r=Et[0],r.blockedOn===null);)Dc(r),r.blockedOn===null&&Et.shift()}var Dr=xt.ReactCurrentBatchConfig,Fs=!0;function Lf(t,e,r,n){var s=F,i=Dr.transition;Dr.transition=null;try{F=1,Pa(t,e,r,n)}finally{F=s,Dr.transition=i}}function Df(t,e,r,n){var s=F,i=Dr.transition;Dr.transition=null;try{F=4,Pa(t,e,r,n)}finally{F=s,Dr.transition=i}}function Pa(t,e,r,n){if(Fs){var s=Oo(t,e,r,n);if(s===null)Ki(t,e,n,Ws,r),Pl(t,n);else if($f(s,t,e,r,n))n.stopPropagation();else if(Pl(t,n),e&4&&-1<Rf.indexOf(t)){for(;s!==null;){var i=Jn(s);if(i!==null&&Rc(i),i=Oo(t,e,r,n),i===null&&Ki(t,e,n,Ws,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ki(t,e,n,null,r)}}var Ws=null;function Oo(t,e,r,n){if(Ws=null,t=Ea(n),t=Yt(t),t!==null)if(e=ur(t),e===null)t=null;else if(r=e.tag,r===13){if(t=jc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ws=t,null}function Mc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bf()){case Na:return 1;case Cc:return 4;case zs:case jf:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var Ct=null,Oa=null,Ns=null;function Uc(){if(Ns)return Ns;var t,e=Oa,r=e.length,n,s="value"in Ct?Ct.value:Ct.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Ns=s.slice(t,1<n?1-n:void 0)}function Ts(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ds(){return!0}function Il(){return!1}function Ae(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ds:Il,this.isPropagationStopped=Il,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),e}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Ae(Jr),Qn=Z({},Jr,{view:0,detail:0}),Mf=Ae(Qn),Mi,Ui,on,di=Z({},Qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==on&&(on&&t.type==="mousemove"?(Mi=t.screenX-on.screenX,Ui=t.screenY-on.screenY):Ui=Mi=0,on=t),Mi)},movementY:function(t){return"movementY"in t?t.movementY:Ui}}),Rl=Ae(di),Uf=Z({},di,{dataTransfer:0}),zf=Ae(Uf),Bf=Z({},Qn,{relatedTarget:0}),zi=Ae(Bf),Ff=Z({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wf=Ae(Ff),qf=Z({},Jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hf=Ae(qf),Vf=Z({},Jr,{data:0}),$l=Ae(Vf),Kf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qf[t])?!!e[t]:!1}function Ra(){return Jf}var Yf=Z({},Qn,{key:function(t){if(t.key){var e=Kf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xf=Ae(Yf),Zf=Z({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=Ae(Zf),ep=Z({},Qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),tp=Ae(ep),rp=Z({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),np=Ae(rp),sp=Z({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ip=Ae(sp),op=[9,13,27,32],$a=gt&&"CompositionEvent"in window,wn=null;gt&&"documentMode"in document&&(wn=document.documentMode);var ap=gt&&"TextEvent"in window&&!wn,zc=gt&&(!$a||wn&&8<wn&&11>=wn),Ll=" ",Dl=!1;function Bc(t,e){switch(t){case"keyup":return op.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function lp(t,e){switch(t){case"compositionend":return Fc(e);case"keypress":return e.which!==32?null:(Dl=!0,Ll);case"textInput":return t=e.data,t===Ll&&Dl?null:t;default:return null}}function up(t,e){if(br)return t==="compositionend"||!$a&&Bc(t,e)?(t=Uc(),Ns=Oa=Ct=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zc&&e.locale!=="ko"?null:e.data;default:return null}}var cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ml(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cp[t.type]:e==="textarea"}function Wc(t,e,r,n){xc(n),e=qs(e,"onChange"),0<e.length&&(r=new Ia("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var xn=null,An=null;function dp(t){ed(t,0)}function hi(t){var e=Nr(t);if(fc(e))return t}function hp(t,e){if(t==="change")return e}var qc=!1;if(gt){var Bi;if(gt){var Fi="oninput"in document;if(!Fi){var Ul=document.createElement("div");Ul.setAttribute("oninput","return;"),Fi=typeof Ul.oninput=="function"}Bi=Fi}else Bi=!1;qc=Bi&&(!document.documentMode||9<document.documentMode)}function zl(){xn&&(xn.detachEvent("onpropertychange",Hc),An=xn=null)}function Hc(t){if(t.propertyName==="value"&&hi(An)){var e=[];Wc(e,An,t,Ea(t)),bc(dp,e)}}function fp(t,e,r){t==="focusin"?(zl(),xn=e,An=r,xn.attachEvent("onpropertychange",Hc)):t==="focusout"&&zl()}function pp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hi(An)}function mp(t,e){if(t==="click")return hi(e)}function gp(t,e){if(t==="input"||t==="change")return hi(e)}function yp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xe=typeof Object.is=="function"?Object.is:yp;function Ln(t,e){if(Xe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!fo.call(e,s)||!Xe(t[s],e[s]))return!1}return!0}function Bl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fl(t,e){var r=Bl(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bl(r)}}function Vc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kc(){for(var t=window,e=Ds();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ds(t.document)}return e}function Aa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vp(t){var e=Kc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Vc(r.ownerDocument.documentElement,r)){if(n!==null&&Aa(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Fl(r,i);var o=Fl(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wp=gt&&"documentMode"in document&&11>=document.documentMode,jr=null,Io=null,_n=null,Ro=!1;function Wl(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ro||jr==null||jr!==Ds(n)||(n=jr,"selectionStart"in n&&Aa(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_n&&Ln(_n,n)||(_n=n,n=qs(Io,"onSelect"),0<n.length&&(e=new Ia("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=jr)))}function hs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Er={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},Wi={},Gc={};gt&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function fi(t){if(Wi[t])return Wi[t];if(!Er[t])return t;var e=Er[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Gc)return Wi[t]=e[r];return t}var Qc=fi("animationend"),Jc=fi("animationiteration"),Yc=fi("animationstart"),Xc=fi("transitionend"),Zc=new Map,ql="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(t,e){Zc.set(t,e),lr(e,[t])}for(var qi=0;qi<ql.length;qi++){var Hi=ql[qi],xp=Hi.toLowerCase(),_p=Hi[0].toUpperCase()+Hi.slice(1);Bt(xp,"on"+_p)}Bt(Qc,"onAnimationEnd");Bt(Jc,"onAnimationIteration");Bt(Yc,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(Xc,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kp=new Set("cancel close invalid load scroll toggle".split(" ").concat(mn));function Hl(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,xf(n,e,void 0,t),t.currentTarget=null}function ed(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Hl(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Hl(s,a,c),i=l}}}if(Us)throw t=To,Us=!1,To=null,t}function V(t,e){var r=e[Mo];r===void 0&&(r=e[Mo]=new Set);var n=t+"__bubble";r.has(n)||(td(e,t,2,!1),r.add(n))}function Vi(t,e,r){var n=0;e&&(n|=4),td(r,t,n,e)}var fs="_reactListening"+Math.random().toString(36).slice(2);function Dn(t){if(!t[fs]){t[fs]=!0,lc.forEach(function(r){r!=="selectionchange"&&(kp.has(r)||Vi(r,!1,t),Vi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fs]||(e[fs]=!0,Vi("selectionchange",!1,e))}}function td(t,e,r,n){switch(Mc(e)){case 1:var s=Lf;break;case 4:s=Df;break;default:s=Pa}r=s.bind(null,e,r,t),s=void 0,!No||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ki(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Yt(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}bc(function(){var c=i,d=Ea(r),f=[];e:{var p=Zc.get(t);if(p!==void 0){var g=Ia,w=t;switch(t){case"keypress":if(Ts(r)===0)break e;case"keydown":case"keyup":g=Xf;break;case"focusin":w="focus",g=zi;break;case"focusout":w="blur",g=zi;break;case"beforeblur":case"afterblur":g=zi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=tp;break;case Qc:case Jc:case Yc:g=Wf;break;case Xc:g=np;break;case"scroll":g=Mf;break;case"wheel":g=ip;break;case"copy":case"cut":case"paste":g=Hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Al}var v=(e&4)!==0,_=!v&&t==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var m=c,h;m!==null;){h=m;var x=h.stateNode;if(h.tag===5&&x!==null&&(h=x,y!==null&&(x=On(m,y),x!=null&&v.push(Mn(m,x,h)))),_)break;m=m.return}0<v.length&&(p=new g(p,w,null,r,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==jo&&(w=r.relatedTarget||r.fromElement)&&(Yt(w)||w[yt]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=r.relatedTarget||r.toElement,g=c,w=w?Yt(w):null,w!==null&&(_=ur(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=Rl,x="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=Al,x="onPointerLeave",y="onPointerEnter",m="pointer"),_=g==null?p:Nr(g),h=w==null?p:Nr(w),p=new v(x,m+"leave",g,r,d),p.target=_,p.relatedTarget=h,x=null,Yt(d)===c&&(v=new v(y,m+"enter",w,r,d),v.target=h,v.relatedTarget=_,x=v),_=x,g&&w)t:{for(v=g,y=w,m=0,h=v;h;h=pr(h))m++;for(h=0,x=y;x;x=pr(x))h++;for(;0<m-h;)v=pr(v),m--;for(;0<h-m;)y=pr(y),h--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=pr(v),y=pr(y)}v=null}else v=null;g!==null&&Vl(f,p,g,v,!1),w!==null&&_!==null&&Vl(f,_,w,v,!0)}}e:{if(p=c?Nr(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var k=hp;else if(Ml(p))if(qc)k=gp;else{k=pp;var S=fp}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=mp);if(k&&(k=k(t,c))){Wc(f,k,r,d);break e}S&&S(t,p,c),t==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&xo(p,"number",p.value)}switch(S=c?Nr(c):window,t){case"focusin":(Ml(S)||S.contentEditable==="true")&&(jr=S,Io=c,_n=null);break;case"focusout":_n=Io=jr=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,Wl(f,r,d);break;case"selectionchange":if(wp)break;case"keydown":case"keyup":Wl(f,r,d)}var j;if($a)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else br?Bc(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(zc&&r.locale!=="ko"&&(br||N!=="onCompositionStart"?N==="onCompositionEnd"&&br&&(j=Uc()):(Ct=d,Oa="value"in Ct?Ct.value:Ct.textContent,br=!0)),S=qs(c,N),0<S.length&&(N=new $l(N,t,null,r,d),f.push({event:N,listeners:S}),j?N.data=j:(j=Fc(r),j!==null&&(N.data=j)))),(j=ap?lp(t,r):up(t,r))&&(c=qs(c,"onBeforeInput"),0<c.length&&(d=new $l("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=j))}ed(f,e)})}function Mn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function qs(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=On(t,r),i!=null&&n.unshift(Mn(t,i,s)),i=On(t,e),i!=null&&n.push(Mn(t,i,s))),t=t.return}return n}function pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vl(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=On(r,i),l!=null&&o.unshift(Mn(r,l,a))):s||(l=On(r,i),l!=null&&o.push(Mn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Sp=/\r\n?/g,bp=/\u0000|\uFFFD/g;function Kl(t){return(typeof t=="string"?t:""+t).replace(Sp,`
`).replace(bp,"")}function ps(t,e,r){if(e=Kl(e),Kl(t)!==e&&r)throw Error(b(425))}function Hs(){}var $o=null,Ao=null;function Lo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,jp=typeof clearTimeout=="function"?clearTimeout:void 0,Gl=typeof Promise=="function"?Promise:void 0,Ep=typeof queueMicrotask=="function"?queueMicrotask:typeof Gl<"u"?function(t){return Gl.resolve(null).then(t).catch(Np)}:Do;function Np(t){setTimeout(function(){throw t})}function Gi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),$n(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);$n(e)}function $t(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ql(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Yr=Math.random().toString(36).slice(2),it="__reactFiber$"+Yr,Un="__reactProps$"+Yr,yt="__reactContainer$"+Yr,Mo="__reactEvents$"+Yr,Tp="__reactListeners$"+Yr,Cp="__reactHandles$"+Yr;function Yt(t){var e=t[it];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yt]||r[it]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ql(t);t!==null;){if(r=t[it])return r;t=Ql(t)}return e}t=r,r=t.parentNode}return null}function Jn(t){return t=t[it]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function pi(t){return t[Un]||null}var Uo=[],Tr=-1;function Ft(t){return{current:t}}function K(t){0>Tr||(t.current=Uo[Tr],Uo[Tr]=null,Tr--)}function q(t,e){Tr++,Uo[Tr]=t.current,t.current=e}var zt={},ve=Ft(zt),Ne=Ft(!1),rr=zt;function Fr(t,e){var r=t.type.contextTypes;if(!r)return zt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Te(t){return t=t.childContextTypes,t!=null}function Vs(){K(Ne),K(ve)}function Jl(t,e,r){if(ve.current!==zt)throw Error(b(168));q(ve,e),q(Ne,r)}function rd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(b(108,ff(t)||"Unknown",s));return Z({},r,n)}function Ks(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zt,rr=ve.current,q(ve,t),q(Ne,Ne.current),!0}function Yl(t,e,r){var n=t.stateNode;if(!n)throw Error(b(169));r?(t=rd(t,e,rr),n.__reactInternalMemoizedMergedChildContext=t,K(Ne),K(ve),q(ve,t)):K(Ne),q(Ne,r)}var ht=null,mi=!1,Qi=!1;function nd(t){ht===null?ht=[t]:ht.push(t)}function Pp(t){mi=!0,nd(t)}function Wt(){if(!Qi&&ht!==null){Qi=!0;var t=0,e=F;try{var r=ht;for(F=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ht=null,mi=!1}catch(s){throw ht!==null&&(ht=ht.slice(t+1)),Tc(Na,Wt),s}finally{F=e,Qi=!1}}return null}var Cr=[],Pr=0,Gs=null,Qs=0,De=[],Me=0,nr=null,ft=1,pt="";function Kt(t,e){Cr[Pr++]=Qs,Cr[Pr++]=Gs,Gs=t,Qs=e}function sd(t,e,r){De[Me++]=ft,De[Me++]=pt,De[Me++]=nr,nr=t;var n=ft;t=pt;var s=32-Je(n)-1;n&=~(1<<s),r+=1;var i=32-Je(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ft=1<<32-Je(e)+s|r<<s|n,pt=i+t}else ft=1<<i|r<<s|n,pt=t}function La(t){t.return!==null&&(Kt(t,1),sd(t,1,0))}function Da(t){for(;t===Gs;)Gs=Cr[--Pr],Cr[Pr]=null,Qs=Cr[--Pr],Cr[Pr]=null;for(;t===nr;)nr=De[--Me],De[Me]=null,pt=De[--Me],De[Me]=null,ft=De[--Me],De[Me]=null}var Ie=null,Oe=null,G=!1,Qe=null;function id(t,e){var r=Ue(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Xl(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ie=t,Oe=$t(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ie=t,Oe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=nr!==null?{id:ft,overflow:pt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ue(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ie=t,Oe=null,!0):!1;default:return!1}}function zo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bo(t){if(G){var e=Oe;if(e){var r=e;if(!Xl(t,e)){if(zo(t))throw Error(b(418));e=$t(r.nextSibling);var n=Ie;e&&Xl(t,e)?id(n,r):(t.flags=t.flags&-4097|2,G=!1,Ie=t)}}else{if(zo(t))throw Error(b(418));t.flags=t.flags&-4097|2,G=!1,Ie=t}}}function Zl(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ie=t}function ms(t){if(t!==Ie)return!1;if(!G)return Zl(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lo(t.type,t.memoizedProps)),e&&(e=Oe)){if(zo(t))throw od(),Error(b(418));for(;e;)id(t,e),e=$t(e.nextSibling)}if(Zl(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Oe=$t(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Oe=null}}else Oe=Ie?$t(t.stateNode.nextSibling):null;return!0}function od(){for(var t=Oe;t;)t=$t(t.nextSibling)}function Wr(){Oe=Ie=null,G=!1}function Ma(t){Qe===null?Qe=[t]:Qe.push(t)}var Op=xt.ReactCurrentBatchConfig;function an(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(b(309));var n=r.stateNode}if(!n)throw Error(b(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(b(284));if(!r._owner)throw Error(b(290,t))}return t}function gs(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eu(t){var e=t._init;return e(t._payload)}function ad(t){function e(y,m){if(t){var h=y.deletions;h===null?(y.deletions=[m],y.flags|=16):h.push(m)}}function r(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Mt(y,m),y.index=0,y.sibling=null,y}function i(y,m,h){return y.index=h,t?(h=y.alternate,h!==null?(h=h.index,h<m?(y.flags|=2,m):h):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,h,x){return m===null||m.tag!==6?(m=ro(h,y.mode,x),m.return=y,m):(m=s(m,h),m.return=y,m)}function l(y,m,h,x){var k=h.type;return k===Sr?d(y,m,h.props.children,x,h.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===bt&&eu(k)===m.type)?(x=s(m,h.props),x.ref=an(y,m,h),x.return=y,x):(x=As(h.type,h.key,h.props,null,y.mode,x),x.ref=an(y,m,h),x.return=y,x)}function c(y,m,h,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=no(h,y.mode,x),m.return=y,m):(m=s(m,h.children||[]),m.return=y,m)}function d(y,m,h,x,k){return m===null||m.tag!==7?(m=tr(h,y.mode,x,k),m.return=y,m):(m=s(m,h),m.return=y,m)}function f(y,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ro(""+m,y.mode,h),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case is:return h=As(m.type,m.key,m.props,null,y.mode,h),h.ref=an(y,null,m),h.return=y,h;case kr:return m=no(m,y.mode,h),m.return=y,m;case bt:var x=m._init;return f(y,x(m._payload),h)}if(fn(m)||tn(m))return m=tr(m,y.mode,h,null),m.return=y,m;gs(y,m)}return null}function p(y,m,h,x){var k=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return k!==null?null:a(y,m,""+h,x);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case is:return h.key===k?l(y,m,h,x):null;case kr:return h.key===k?c(y,m,h,x):null;case bt:return k=h._init,p(y,m,k(h._payload),x)}if(fn(h)||tn(h))return k!==null?null:d(y,m,h,x,null);gs(y,h)}return null}function g(y,m,h,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(h)||null,a(m,y,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case is:return y=y.get(x.key===null?h:x.key)||null,l(m,y,x,k);case kr:return y=y.get(x.key===null?h:x.key)||null,c(m,y,x,k);case bt:var S=x._init;return g(y,m,h,S(x._payload),k)}if(fn(x)||tn(x))return y=y.get(h)||null,d(m,y,x,k,null);gs(m,x)}return null}function w(y,m,h,x){for(var k=null,S=null,j=m,N=m=0,M=null;j!==null&&N<h.length;N++){j.index>N?(M=j,j=null):M=j.sibling;var R=p(y,j,h[N],x);if(R===null){j===null&&(j=M);break}t&&j&&R.alternate===null&&e(y,j),m=i(R,m,N),S===null?k=R:S.sibling=R,S=R,j=M}if(N===h.length)return r(y,j),G&&Kt(y,N),k;if(j===null){for(;N<h.length;N++)j=f(y,h[N],x),j!==null&&(m=i(j,m,N),S===null?k=j:S.sibling=j,S=j);return G&&Kt(y,N),k}for(j=n(y,j);N<h.length;N++)M=g(j,y,N,h[N],x),M!==null&&(t&&M.alternate!==null&&j.delete(M.key===null?N:M.key),m=i(M,m,N),S===null?k=M:S.sibling=M,S=M);return t&&j.forEach(function(H){return e(y,H)}),G&&Kt(y,N),k}function v(y,m,h,x){var k=tn(h);if(typeof k!="function")throw Error(b(150));if(h=k.call(h),h==null)throw Error(b(151));for(var S=k=null,j=m,N=m=0,M=null,R=h.next();j!==null&&!R.done;N++,R=h.next()){j.index>N?(M=j,j=null):M=j.sibling;var H=p(y,j,R.value,x);if(H===null){j===null&&(j=M);break}t&&j&&H.alternate===null&&e(y,j),m=i(H,m,N),S===null?k=H:S.sibling=H,S=H,j=M}if(R.done)return r(y,j),G&&Kt(y,N),k;if(j===null){for(;!R.done;N++,R=h.next())R=f(y,R.value,x),R!==null&&(m=i(R,m,N),S===null?k=R:S.sibling=R,S=R);return G&&Kt(y,N),k}for(j=n(y,j);!R.done;N++,R=h.next())R=g(j,y,N,R.value,x),R!==null&&(t&&R.alternate!==null&&j.delete(R.key===null?N:R.key),m=i(R,m,N),S===null?k=R:S.sibling=R,S=R);return t&&j.forEach(function(dr){return e(y,dr)}),G&&Kt(y,N),k}function _(y,m,h,x){if(typeof h=="object"&&h!==null&&h.type===Sr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case is:e:{for(var k=h.key,S=m;S!==null;){if(S.key===k){if(k=h.type,k===Sr){if(S.tag===7){r(y,S.sibling),m=s(S,h.props.children),m.return=y,y=m;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===bt&&eu(k)===S.type){r(y,S.sibling),m=s(S,h.props),m.ref=an(y,S,h),m.return=y,y=m;break e}r(y,S);break}else e(y,S);S=S.sibling}h.type===Sr?(m=tr(h.props.children,y.mode,x,h.key),m.return=y,y=m):(x=As(h.type,h.key,h.props,null,y.mode,x),x.ref=an(y,m,h),x.return=y,y=x)}return o(y);case kr:e:{for(S=h.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){r(y,m.sibling),m=s(m,h.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else e(y,m);m=m.sibling}m=no(h,y.mode,x),m.return=y,y=m}return o(y);case bt:return S=h._init,_(y,m,S(h._payload),x)}if(fn(h))return w(y,m,h,x);if(tn(h))return v(y,m,h,x);gs(y,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,h),m.return=y,y=m):(r(y,m),m=ro(h,y.mode,x),m.return=y,y=m),o(y)):r(y,m)}return _}var qr=ad(!0),ld=ad(!1),Js=Ft(null),Ys=null,Or=null,Ua=null;function za(){Ua=Or=Ys=null}function Ba(t){var e=Js.current;K(Js),t._currentValue=e}function Fo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Mr(t,e){Ys=t,Ua=Or=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ee=!0),t.firstContext=null)}function Fe(t){var e=t._currentValue;if(Ua!==t)if(t={context:t,memoizedValue:e,next:null},Or===null){if(Ys===null)throw Error(b(308));Or=t,Ys.dependencies={lanes:0,firstContext:t}}else Or=Or.next=t;return e}var Xt=null;function Fa(t){Xt===null?Xt=[t]:Xt.push(t)}function ud(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Fa(e)):(r.next=s.next,s.next=r),e.interleaved=r,vt(t,n)}function vt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var jt=!1;function Wa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function At(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,U&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,vt(t,r)}return s=n.interleaved,s===null?(e.next=e,Fa(n)):(e.next=s.next,s.next=e),n.interleaved=e,vt(t,r)}function Cs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ta(t,r)}}function tu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xs(t,e,r,n){var s=t.updateQueue;jt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(p=e,g=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(g,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(g,f,p):w,p==null)break e;f=Z({},f,p);break e;case 2:jt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ir|=o,t.lanes=o,t.memoizedState=f}}function ru(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(b(191,s));s.call(n)}}}var Yn={},at=Ft(Yn),zn=Ft(Yn),Bn=Ft(Yn);function Zt(t){if(t===Yn)throw Error(b(174));return t}function qa(t,e){switch(q(Bn,e),q(zn,t),q(at,Yn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ko(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ko(e,t)}K(at),q(at,e)}function Hr(){K(at),K(zn),K(Bn)}function dd(t){Zt(Bn.current);var e=Zt(at.current),r=ko(e,t.type);e!==r&&(q(zn,t),q(at,r))}function Ha(t){zn.current===t&&(K(at),K(zn))}var Y=Ft(0);function Zs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ji=[];function Va(){for(var t=0;t<Ji.length;t++)Ji[t]._workInProgressVersionPrimary=null;Ji.length=0}var Ps=xt.ReactCurrentDispatcher,Yi=xt.ReactCurrentBatchConfig,sr=0,X=null,ae=null,ue=null,ei=!1,kn=!1,Fn=0,Ip=0;function me(){throw Error(b(321))}function Ka(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xe(t[r],e[r]))return!1;return!0}function Ga(t,e,r,n,s,i){if(sr=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ps.current=t===null||t.memoizedState===null?Lp:Dp,t=r(n,s),kn){i=0;do{if(kn=!1,Fn=0,25<=i)throw Error(b(301));i+=1,ue=ae=null,e.updateQueue=null,Ps.current=Mp,t=r(n,s)}while(kn)}if(Ps.current=ti,e=ae!==null&&ae.next!==null,sr=0,ue=ae=X=null,ei=!1,e)throw Error(b(300));return t}function Qa(){var t=Fn!==0;return Fn=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?X.memoizedState=ue=t:ue=ue.next=t,ue}function We(){if(ae===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=ue===null?X.memoizedState:ue.next;if(e!==null)ue=e,ae=t;else{if(t===null)throw Error(b(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ue===null?X.memoizedState=ue=t:ue=ue.next=t}return ue}function Wn(t,e){return typeof e=="function"?e(t):e}function Xi(t){var e=We(),r=e.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var n=ae,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((sr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,X.lanes|=d,ir|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Xe(n,e.memoizedState)||(Ee=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,ir|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Zi(t){var e=We(),r=e.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Xe(i,e.memoizedState)||(Ee=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function hd(){}function fd(t,e){var r=X,n=We(),s=e(),i=!Xe(n.memoizedState,s);if(i&&(n.memoizedState=s,Ee=!0),n=n.queue,Ja(gd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,qn(9,md.bind(null,r,n,s,e),void 0,null),ce===null)throw Error(b(349));sr&30||pd(r,e,s)}return s}function pd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function md(t,e,r,n){e.value=r,e.getSnapshot=n,yd(e)&&vd(t)}function gd(t,e,r){return r(function(){yd(e)&&vd(t)})}function yd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xe(t,r)}catch{return!0}}function vd(t){var e=vt(t,1);e!==null&&Ye(e,t,1,-1)}function nu(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:t},e.queue=t,t=t.dispatch=Ap.bind(null,X,t),[e.memoizedState,t]}function qn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function wd(){return We().memoizedState}function Os(t,e,r,n){var s=nt();X.flags|=t,s.memoizedState=qn(1|e,r,void 0,n===void 0?null:n)}function gi(t,e,r,n){var s=We();n=n===void 0?null:n;var i=void 0;if(ae!==null){var o=ae.memoizedState;if(i=o.destroy,n!==null&&Ka(n,o.deps)){s.memoizedState=qn(e,r,i,n);return}}X.flags|=t,s.memoizedState=qn(1|e,r,i,n)}function su(t,e){return Os(8390656,8,t,e)}function Ja(t,e){return gi(2048,8,t,e)}function xd(t,e){return gi(4,2,t,e)}function _d(t,e){return gi(4,4,t,e)}function kd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sd(t,e,r){return r=r!=null?r.concat([t]):null,gi(4,4,kd.bind(null,e,t),r)}function Ya(){}function bd(t,e){var r=We();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ka(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function jd(t,e){var r=We();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ka(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Ed(t,e,r){return sr&21?(Xe(r,e)||(r=Oc(),X.lanes|=r,ir|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ee=!0),t.memoizedState=r)}function Rp(t,e){var r=F;F=r!==0&&4>r?r:4,t(!0);var n=Yi.transition;Yi.transition={};try{t(!1),e()}finally{F=r,Yi.transition=n}}function Nd(){return We().memoizedState}function $p(t,e,r){var n=Dt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Td(t))Cd(e,r);else if(r=ud(t,e,r,n),r!==null){var s=xe();Ye(r,t,n,s),Pd(r,e,n)}}function Ap(t,e,r){var n=Dt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Td(t))Cd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Xe(a,o)){var l=e.interleaved;l===null?(s.next=s,Fa(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=ud(t,e,s,n),r!==null&&(s=xe(),Ye(r,t,n,s),Pd(r,e,n))}}function Td(t){var e=t.alternate;return t===X||e!==null&&e===X}function Cd(t,e){kn=ei=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Pd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ta(t,r)}}var ti={readContext:Fe,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},Lp={readContext:Fe,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:Fe,useEffect:su,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Os(4194308,4,kd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Os(4194308,4,t,e)},useInsertionEffect:function(t,e){return Os(4,2,t,e)},useMemo:function(t,e){var r=nt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=nt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=$p.bind(null,X,t),[n.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:nu,useDebugValue:Ya,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=nu(!1),e=t[0];return t=Rp.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=X,s=nt();if(G){if(r===void 0)throw Error(b(407));r=r()}else{if(r=e(),ce===null)throw Error(b(349));sr&30||pd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,su(gd.bind(null,n,i,t),[t]),n.flags|=2048,qn(9,md.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=nt(),e=ce.identifierPrefix;if(G){var r=pt,n=ft;r=(n&~(1<<32-Je(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Ip++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Dp={readContext:Fe,useCallback:bd,useContext:Fe,useEffect:Ja,useImperativeHandle:Sd,useInsertionEffect:xd,useLayoutEffect:_d,useMemo:jd,useReducer:Xi,useRef:wd,useState:function(){return Xi(Wn)},useDebugValue:Ya,useDeferredValue:function(t){var e=We();return Ed(e,ae.memoizedState,t)},useTransition:function(){var t=Xi(Wn)[0],e=We().memoizedState;return[t,e]},useMutableSource:hd,useSyncExternalStore:fd,useId:Nd,unstable_isNewReconciler:!1},Mp={readContext:Fe,useCallback:bd,useContext:Fe,useEffect:Ja,useImperativeHandle:Sd,useInsertionEffect:xd,useLayoutEffect:_d,useMemo:jd,useReducer:Zi,useRef:wd,useState:function(){return Zi(Wn)},useDebugValue:Ya,useDeferredValue:function(t){var e=We();return ae===null?e.memoizedState=t:Ed(e,ae.memoizedState,t)},useTransition:function(){var t=Zi(Wn)[0],e=We().memoizedState;return[t,e]},useMutableSource:hd,useSyncExternalStore:fd,useId:Nd,unstable_isNewReconciler:!1};function Ve(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Wo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Z({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var yi={isMounted:function(t){return(t=t._reactInternals)?ur(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=xe(),s=Dt(t),i=mt(n,s);i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Ye(e,t,s,n),Cs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=xe(),s=Dt(t),i=mt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=At(t,i,s),e!==null&&(Ye(e,t,s,n),Cs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xe(),n=Dt(t),s=mt(r,n);s.tag=2,e!=null&&(s.callback=e),e=At(t,s,n),e!==null&&(Ye(e,t,n,r),Cs(e,t,n))}};function iu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ln(r,n)||!Ln(s,i):!0}function Od(t,e,r){var n=!1,s=zt,i=e.contextType;return typeof i=="object"&&i!==null?i=Fe(i):(s=Te(e)?rr:ve.current,n=e.contextTypes,i=(n=n!=null)?Fr(t,s):zt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ou(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&yi.enqueueReplaceState(e,e.state,null)}function qo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Wa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fe(i):(i=Te(e)?rr:ve.current,s.context=Fr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yi.enqueueReplaceState(s,s.state,null),Xs(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vr(t,e){try{var r="",n=e;do r+=hf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function eo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ho(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Up=typeof WeakMap=="function"?WeakMap:Map;function Id(t,e,r){r=mt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ni||(ni=!0,ta=n),Ho(t,e)},r}function Rd(t,e,r){r=mt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ho(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ho(t,e),typeof n!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function au(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Up;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Zp.bind(null,t,e,r),e.then(t,t))}function lu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=mt(-1,1),e.tag=2,At(r,e,1))),r.lanes|=1),t)}var zp=xt.ReactCurrentOwner,Ee=!1;function we(t,e,r,n){e.child=t===null?ld(e,null,r,n):qr(e,t.child,r,n)}function cu(t,e,r,n,s){r=r.render;var i=e.ref;return Mr(e,s),n=Ga(t,e,r,n,i,s),r=Qa(),t!==null&&!Ee?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,wt(t,e,s)):(G&&r&&La(e),e.flags|=1,we(t,e,n,s),e.child)}function du(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!il(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,$d(t,e,i,n,s)):(t=As(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ln,r(o,n)&&t.ref===e.ref)return wt(t,e,s)}return e.flags|=1,t=Mt(i,n),t.ref=e.ref,t.return=e,e.child=t}function $d(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ln(i,n)&&t.ref===e.ref)if(Ee=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ee=!0);else return e.lanes=t.lanes,wt(t,e,s)}return Vo(t,e,r,n,s)}function Ad(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Rr,Pe),Pe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(Rr,Pe),Pe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(Rr,Pe),Pe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,q(Rr,Pe),Pe|=n;return we(t,e,s,r),e.child}function Ld(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Vo(t,e,r,n,s){var i=Te(r)?rr:ve.current;return i=Fr(e,i),Mr(e,s),r=Ga(t,e,r,n,i,s),n=Qa(),t!==null&&!Ee?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,wt(t,e,s)):(G&&n&&La(e),e.flags|=1,we(t,e,r,s),e.child)}function hu(t,e,r,n,s){if(Te(r)){var i=!0;Ks(e)}else i=!1;if(Mr(e,s),e.stateNode===null)Is(t,e),Od(e,r,n),qo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Fe(c):(c=Te(r)?rr:ve.current,c=Fr(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&ou(e,o,n,c),jt=!1;var p=e.memoizedState;o.state=p,Xs(e,n,o,s),l=e.memoizedState,a!==n||p!==l||Ne.current||jt?(typeof d=="function"&&(Wo(e,r,d,n),l=e.memoizedState),(a=jt||iu(e,r,a,n,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,cd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ve(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fe(l):(l=Te(r)?rr:ve.current,l=Fr(e,l));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&ou(e,o,n,l),jt=!1,p=e.memoizedState,o.state=p,Xs(e,n,o,s);var w=e.memoizedState;a!==f||p!==w||Ne.current||jt?(typeof g=="function"&&(Wo(e,r,g,n),w=e.memoizedState),(c=jt||iu(e,r,c,n,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),o.props=n,o.state=w,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Ko(t,e,r,n,i,s)}function Ko(t,e,r,n,s,i){Ld(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Yl(e,r,!1),wt(t,e,i);n=e.stateNode,zp.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=qr(e,t.child,null,i),e.child=qr(e,null,a,i)):we(t,e,a,i),e.memoizedState=n.state,s&&Yl(e,r,!0),e.child}function Dd(t){var e=t.stateNode;e.pendingContext?Jl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jl(t,e.context,!1),qa(t,e.containerInfo)}function fu(t,e,r,n,s){return Wr(),Ma(s),e.flags|=256,we(t,e,r,n),e.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function Qo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Md(t,e,r){var n=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(Y,s&1),t===null)return Bo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xi(o,n,0,null),t=tr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Qo(r),e.memoizedState=Go,t):Xa(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Bp(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Mt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mt(a,i):(i=tr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Qo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Go,n}return i=t.child,t=i.sibling,n=Mt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Xa(t,e){return e=xi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ys(t,e,r,n){return n!==null&&Ma(n),qr(e,t.child,null,r),t=Xa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bp(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=eo(Error(b(422))),ys(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=xi({mode:"visible",children:n.children},s,0,null),i=tr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&qr(e,t.child,null,o),e.child.memoizedState=Qo(o),e.memoizedState=Go,i);if(!(e.mode&1))return ys(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(b(419)),n=eo(i,n,void 0),ys(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ee||a){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vt(t,s),Ye(n,t,s,-1))}return sl(),n=eo(Error(b(421))),ys(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=em.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Oe=$t(s.nextSibling),Ie=e,G=!0,Qe=null,t!==null&&(De[Me++]=ft,De[Me++]=pt,De[Me++]=nr,ft=t.id,pt=t.overflow,nr=e),e=Xa(e,n.children),e.flags|=4096,e)}function pu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Fo(t.return,e,r)}function to(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ud(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(we(t,e,n.children,r),n=Y.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pu(t,r,e);else if(t.tag===19)pu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(q(Y,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Zs(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),to(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zs(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}to(e,!0,r,null,i);break;case"together":to(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Is(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ir|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,r=Mt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Mt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Fp(t,e,r){switch(e.tag){case 3:Dd(e),Wr();break;case 5:dd(e);break;case 1:Te(e.type)&&Ks(e);break;case 4:qa(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;q(Js,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(q(Y,Y.current&1),e.flags|=128,null):r&e.child.childLanes?Md(t,e,r):(q(Y,Y.current&1),t=wt(t,e,r),t!==null?t.sibling:null);q(Y,Y.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ud(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Y,Y.current),n)break;return null;case 22:case 23:return e.lanes=0,Ad(t,e,r)}return wt(t,e,r)}var zd,Jo,Bd,Fd;zd=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jo=function(){};Bd=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Zt(at.current);var i=null;switch(r){case"input":s=vo(t,s),n=vo(t,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=_o(t,s),n=_o(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Hs)}So(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cn.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&V("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Fd=function(t,e,r,n){r!==n&&(e.flags|=4)};function ln(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Wp(t,e,r){var n=e.pendingProps;switch(Da(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return Te(e.type)&&Vs(),ge(e),null;case 3:return n=e.stateNode,Hr(),K(Ne),K(ve),Va(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ms(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(sa(Qe),Qe=null))),Jo(t,e),ge(e),null;case 5:Ha(e);var s=Zt(Bn.current);if(r=e.type,t!==null&&e.stateNode!=null)Bd(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(b(166));return ge(e),null}if(t=Zt(at.current),ms(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[it]=e,n[Un]=i,t=(e.mode&1)!==0,r){case"dialog":V("cancel",n),V("close",n);break;case"iframe":case"object":case"embed":V("load",n);break;case"video":case"audio":for(s=0;s<mn.length;s++)V(mn[s],n);break;case"source":V("error",n);break;case"img":case"image":case"link":V("error",n),V("load",n);break;case"details":V("toggle",n);break;case"input":Sl(n,i),V("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},V("invalid",n);break;case"textarea":jl(n,i),V("invalid",n)}So(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ps(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ps(n.textContent,a,t),s=["children",""+a]):Cn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&V("scroll",n)}switch(r){case"input":os(n),bl(n,i,!0);break;case"textarea":os(n),El(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Hs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[it]=e,t[Un]=n,zd(t,e,!1,!1),e.stateNode=t;e:{switch(o=bo(r,n),r){case"dialog":V("cancel",t),V("close",t),s=n;break;case"iframe":case"object":case"embed":V("load",t),s=n;break;case"video":case"audio":for(s=0;s<mn.length;s++)V(mn[s],t);s=n;break;case"source":V("error",t),s=n;break;case"img":case"image":case"link":V("error",t),V("load",t),s=n;break;case"details":V("toggle",t),s=n;break;case"input":Sl(t,n),s=vo(t,n),V("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),V("invalid",t);break;case"textarea":jl(t,n),s=_o(t,n),V("invalid",t);break;default:s=n}So(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?wc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yc(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Pn(t,l):typeof l=="number"&&Pn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&V("scroll",t):l!=null&&ka(t,i,l,o))}switch(r){case"input":os(t),bl(t,n,!1);break;case"textarea":os(t),El(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ut(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?$r(t,!!n.multiple,i,!1):n.defaultValue!=null&&$r(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ge(e),null;case 6:if(t&&e.stateNode!=null)Fd(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(b(166));if(r=Zt(Bn.current),Zt(at.current),ms(e)){if(n=e.stateNode,r=e.memoizedProps,n[it]=e,(i=n.nodeValue!==r)&&(t=Ie,t!==null))switch(t.tag){case 3:ps(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ps(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[it]=e,e.stateNode=n}return ge(e),null;case 13:if(K(Y),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&Oe!==null&&e.mode&1&&!(e.flags&128))od(),Wr(),e.flags|=98560,i=!1;else if(i=ms(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(b(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[it]=e}else Wr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),i=!1}else Qe!==null&&(sa(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?le===0&&(le=3):sl())),e.updateQueue!==null&&(e.flags|=4),ge(e),null);case 4:return Hr(),Jo(t,e),t===null&&Dn(e.stateNode.containerInfo),ge(e),null;case 10:return Ba(e.type._context),ge(e),null;case 17:return Te(e.type)&&Vs(),ge(e),null;case 19:if(K(Y),i=e.memoizedState,i===null)return ge(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)ln(i,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zs(t),o!==null){for(e.flags|=128,ln(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return q(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&re()>Kr&&(e.flags|=128,n=!0,ln(i,!1),e.lanes=4194304)}else{if(!n)if(t=Zs(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ln(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!G)return ge(e),null}else 2*re()-i.renderingStartTime>Kr&&r!==1073741824&&(e.flags|=128,n=!0,ln(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,r=Y.current,q(Y,n?r&1|2:r&1),e):(ge(e),null);case 22:case 23:return nl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Pe&1073741824&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function qp(t,e){switch(Da(e),e.tag){case 1:return Te(e.type)&&Vs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hr(),K(Ne),K(ve),Va(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ha(e),null;case 13:if(K(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Wr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Y),null;case 4:return Hr(),null;case 10:return Ba(e.type._context),null;case 22:case 23:return nl(),null;case 24:return null;default:return null}}var vs=!1,ye=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,C=null;function Ir(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ee(t,e,n)}else r.current=null}function Yo(t,e,r){try{r()}catch(n){ee(t,e,n)}}var mu=!1;function Vp(t,e){if($o=Fs,t=Kc(),Aa(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===r&&++c===s&&(a=o),p===i&&++d===n&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ao={focusedElem:t,selectionRange:r},Fs=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ve(e.type,v),_);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=e.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(x){ee(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return w=mu,mu=!1,w}function Sn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yo(e,r,i)}s=s.next}while(s!==n)}}function vi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Xo(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Wd(t){var e=t.alternate;e!==null&&(t.alternate=null,Wd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[it],delete e[Un],delete e[Mo],delete e[Tp],delete e[Cp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qd(t){return t.tag===5||t.tag===3||t.tag===4}function gu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Hs));else if(n!==4&&(t=t.child,t!==null))for(Zo(t,e,r),t=t.sibling;t!==null;)Zo(t,e,r),t=t.sibling}function ea(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ea(t,e,r),t=t.sibling;t!==null;)ea(t,e,r),t=t.sibling}var de=null,Ke=!1;function _t(t,e,r){for(r=r.child;r!==null;)Hd(t,e,r),r=r.sibling}function Hd(t,e,r){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(ci,r)}catch{}switch(r.tag){case 5:ye||Ir(r,e);case 6:var n=de,s=Ke;de=null,_t(t,e,r),de=n,Ke=s,de!==null&&(Ke?(t=de,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Ke?(t=de,r=r.stateNode,t.nodeType===8?Gi(t.parentNode,r):t.nodeType===1&&Gi(t,r),$n(t)):Gi(de,r.stateNode));break;case 4:n=de,s=Ke,de=r.stateNode.containerInfo,Ke=!0,_t(t,e,r),de=n,Ke=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yo(r,e,o),s=s.next}while(s!==n)}_t(t,e,r);break;case 1:if(!ye&&(Ir(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ee(r,e,a)}_t(t,e,r);break;case 21:_t(t,e,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,_t(t,e,r),ye=n):_t(t,e,r);break;default:_t(t,e,r)}}function yu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Hp),e.forEach(function(n){var s=tm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function He(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Ke=!1;break e;case 3:de=a.stateNode.containerInfo,Ke=!0;break e;case 4:de=a.stateNode.containerInfo,Ke=!0;break e}a=a.return}if(de===null)throw Error(b(160));Hd(i,o,s),de=null,Ke=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ee(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vd(e,t),e=e.sibling}function Vd(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(He(e,t),tt(t),n&4){try{Sn(3,t,t.return),vi(3,t)}catch(v){ee(t,t.return,v)}try{Sn(5,t,t.return)}catch(v){ee(t,t.return,v)}}break;case 1:He(e,t),tt(t),n&512&&r!==null&&Ir(r,r.return);break;case 5:if(He(e,t),tt(t),n&512&&r!==null&&Ir(r,r.return),t.flags&32){var s=t.stateNode;try{Pn(s,"")}catch(v){ee(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pc(s,i),bo(a,o);var c=bo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?wc(s,f):d==="dangerouslySetInnerHTML"?yc(s,f):d==="children"?Pn(s,f):ka(s,d,f,c)}switch(a){case"input":wo(s,i);break;case"textarea":mc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?$r(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?$r(s,!!i.multiple,i.defaultValue,!0):$r(s,!!i.multiple,i.multiple?[]:"",!1))}s[Un]=i}catch(v){ee(t,t.return,v)}}break;case 6:if(He(e,t),tt(t),n&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ee(t,t.return,v)}}break;case 3:if(He(e,t),tt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$n(e.containerInfo)}catch(v){ee(t,t.return,v)}break;case 4:He(e,t),tt(t);break;case 13:He(e,t),tt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(tl=re())),n&4&&yu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ye=(c=ye)||d,He(e,t),ye=c):He(e,t),tt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(C=t,d=t.child;d!==null;){for(f=C=d;C!==null;){switch(p=C,g=p.child,p.tag){case 0:case 11:case 14:case 15:Sn(4,p,p.return);break;case 1:Ir(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){ee(n,r,v)}}break;case 5:Ir(p,p.return);break;case 22:if(p.memoizedState!==null){wu(f);continue}}g!==null?(g.return=p,C=g):wu(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vc("display",o))}catch(v){ee(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){ee(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:He(e,t),tt(t),n&4&&yu(t);break;case 21:break;default:He(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qd(r)){var n=r;break e}r=r.return}throw Error(b(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Pn(s,""),n.flags&=-33);var i=gu(t);ea(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=gu(t);Zo(t,a,o);break;default:throw Error(b(161))}}catch(l){ee(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kp(t,e,r){C=t,Kd(t)}function Kd(t,e,r){for(var n=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||vs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ye;a=vs;var c=ye;if(vs=o,(ye=l)&&!c)for(C=s;C!==null;)o=C,l=o.child,o.tag===22&&o.memoizedState!==null?xu(s):l!==null?(l.return=o,C=l):xu(s);for(;i!==null;)C=i,Kd(i),i=i.sibling;C=s,vs=a,ye=c}vu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):vu(t)}}function vu(t){for(;C!==null;){var e=C;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||vi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ve(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ru(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ru(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$n(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}ye||e.flags&512&&Xo(e)}catch(p){ee(e,e.return,p)}}if(e===t){C=null;break}if(r=e.sibling,r!==null){r.return=e.return,C=r;break}C=e.return}}function wu(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var r=e.sibling;if(r!==null){r.return=e.return,C=r;break}C=e.return}}function xu(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{vi(4,e)}catch(l){ee(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){ee(e,s,l)}}var i=e.return;try{Xo(e)}catch(l){ee(e,i,l)}break;case 5:var o=e.return;try{Xo(e)}catch(l){ee(e,o,l)}}}catch(l){ee(e,e.return,l)}if(e===t){C=null;break}var a=e.sibling;if(a!==null){a.return=e.return,C=a;break}C=e.return}}var Gp=Math.ceil,ri=xt.ReactCurrentDispatcher,Za=xt.ReactCurrentOwner,ze=xt.ReactCurrentBatchConfig,U=0,ce=null,ie=null,he=0,Pe=0,Rr=Ft(0),le=0,Hn=null,ir=0,wi=0,el=0,bn=null,be=null,tl=0,Kr=1/0,ct=null,ni=!1,ta=null,Lt=null,ws=!1,Pt=null,si=0,jn=0,ra=null,Rs=-1,$s=0;function xe(){return U&6?re():Rs!==-1?Rs:Rs=re()}function Dt(t){return t.mode&1?U&2&&he!==0?he&-he:Op.transition!==null?($s===0&&($s=Oc()),$s):(t=F,t!==0||(t=window.event,t=t===void 0?16:Mc(t.type)),t):1}function Ye(t,e,r,n){if(50<jn)throw jn=0,ra=null,Error(b(185));Gn(t,r,n),(!(U&2)||t!==ce)&&(t===ce&&(!(U&2)&&(wi|=r),le===4&&Nt(t,he)),Ce(t,n),r===1&&U===0&&!(e.mode&1)&&(Kr=re()+500,mi&&Wt()))}function Ce(t,e){var r=t.callbackNode;Of(t,e);var n=Bs(t,t===ce?he:0);if(n===0)r!==null&&Cl(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Cl(r),e===1)t.tag===0?Pp(_u.bind(null,t)):nd(_u.bind(null,t)),Ep(function(){!(U&6)&&Wt()}),r=null;else{switch(Ic(n)){case 1:r=Na;break;case 4:r=Cc;break;case 16:r=zs;break;case 536870912:r=Pc;break;default:r=zs}r=th(r,Gd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Gd(t,e){if(Rs=-1,$s=0,U&6)throw Error(b(327));var r=t.callbackNode;if(Ur()&&t.callbackNode!==r)return null;var n=Bs(t,t===ce?he:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ii(t,n);else{e=n;var s=U;U|=2;var i=Jd();(ce!==t||he!==e)&&(ct=null,Kr=re()+500,er(t,e));do try{Yp();break}catch(a){Qd(t,a)}while(!0);za(),ri.current=i,U=s,ie!==null?e=0:(ce=null,he=0,e=le)}if(e!==0){if(e===2&&(s=Co(t),s!==0&&(n=s,e=na(t,s))),e===1)throw r=Hn,er(t,0),Nt(t,n),Ce(t,re()),r;if(e===6)Nt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Qp(s)&&(e=ii(t,n),e===2&&(i=Co(t),i!==0&&(n=i,e=na(t,i))),e===1))throw r=Hn,er(t,0),Nt(t,n),Ce(t,re()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(b(345));case 2:Gt(t,be,ct);break;case 3:if(Nt(t,n),(n&130023424)===n&&(e=tl+500-re(),10<e)){if(Bs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Do(Gt.bind(null,t,be,ct),e);break}Gt(t,be,ct);break;case 4:if(Nt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Je(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Gp(n/1960))-n,10<n){t.timeoutHandle=Do(Gt.bind(null,t,be,ct),n);break}Gt(t,be,ct);break;case 5:Gt(t,be,ct);break;default:throw Error(b(329))}}}return Ce(t,re()),t.callbackNode===r?Gd.bind(null,t):null}function na(t,e){var r=bn;return t.current.memoizedState.isDehydrated&&(er(t,e).flags|=256),t=ii(t,e),t!==2&&(e=be,be=r,e!==null&&sa(e)),t}function sa(t){be===null?be=t:be.push.apply(be,t)}function Qp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Xe(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nt(t,e){for(e&=~el,e&=~wi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Je(e),n=1<<r;t[r]=-1,e&=~n}}function _u(t){if(U&6)throw Error(b(327));Ur();var e=Bs(t,0);if(!(e&1))return Ce(t,re()),null;var r=ii(t,e);if(t.tag!==0&&r===2){var n=Co(t);n!==0&&(e=n,r=na(t,n))}if(r===1)throw r=Hn,er(t,0),Nt(t,e),Ce(t,re()),r;if(r===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gt(t,be,ct),Ce(t,re()),null}function rl(t,e){var r=U;U|=1;try{return t(e)}finally{U=r,U===0&&(Kr=re()+500,mi&&Wt())}}function or(t){Pt!==null&&Pt.tag===0&&!(U&6)&&Ur();var e=U;U|=1;var r=ze.transition,n=F;try{if(ze.transition=null,F=1,t)return t()}finally{F=n,ze.transition=r,U=e,!(U&6)&&Wt()}}function nl(){Pe=Rr.current,K(Rr)}function er(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,jp(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(Da(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vs();break;case 3:Hr(),K(Ne),K(ve),Va();break;case 5:Ha(n);break;case 4:Hr();break;case 13:K(Y);break;case 19:K(Y);break;case 10:Ba(n.type._context);break;case 22:case 23:nl()}r=r.return}if(ce=t,ie=t=Mt(t.current,null),he=Pe=e,le=0,Hn=null,el=wi=ir=0,be=bn=null,Xt!==null){for(e=0;e<Xt.length;e++)if(r=Xt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Xt=null}return t}function Qd(t,e){do{var r=ie;try{if(za(),Ps.current=ti,ei){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ei=!1}if(sr=0,ue=ae=X=null,kn=!1,Fn=0,Za.current=null,r===null||r.return===null){le=1,Hn=e,ie=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=he,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=lu(o);if(g!==null){g.flags&=-257,uu(g,o,a,i,e),g.mode&1&&au(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){au(i,c,e),sl();break e}l=Error(b(426))}}else if(G&&a.mode&1){var _=lu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),uu(_,o,a,i,e),Ma(Vr(l,a));break e}}i=l=Vr(l,a),le!==4&&(le=2),bn===null?bn=[i]:bn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Id(i,l,e);tu(i,y);break e;case 1:a=l;var m=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Lt===null||!Lt.has(h)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Rd(i,a,e);tu(i,x);break e}}i=i.return}while(i!==null)}Xd(r)}catch(k){e=k,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function Jd(){var t=ri.current;return ri.current=ti,t===null?ti:t}function sl(){(le===0||le===3||le===2)&&(le=4),ce===null||!(ir&268435455)&&!(wi&268435455)||Nt(ce,he)}function ii(t,e){var r=U;U|=2;var n=Jd();(ce!==t||he!==e)&&(ct=null,er(t,e));do try{Jp();break}catch(s){Qd(t,s)}while(!0);if(za(),U=r,ri.current=n,ie!==null)throw Error(b(261));return ce=null,he=0,le}function Jp(){for(;ie!==null;)Yd(ie)}function Yp(){for(;ie!==null&&!kf();)Yd(ie)}function Yd(t){var e=eh(t.alternate,t,Pe);t.memoizedProps=t.pendingProps,e===null?Xd(t):ie=e,Za.current=null}function Xd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=qp(r,e),r!==null){r.flags&=32767,ie=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,ie=null;return}}else if(r=Wp(r,e,Pe),r!==null){ie=r;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);le===0&&(le=5)}function Gt(t,e,r){var n=F,s=ze.transition;try{ze.transition=null,F=1,Xp(t,e,r,n)}finally{ze.transition=s,F=n}return null}function Xp(t,e,r,n){do Ur();while(Pt!==null);if(U&6)throw Error(b(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(If(t,i),t===ce&&(ie=ce=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ws||(ws=!0,th(zs,function(){return Ur(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ze.transition,ze.transition=null;var o=F;F=1;var a=U;U|=4,Za.current=null,Vp(t,r),Vd(r,t),vp(Ao),Fs=!!$o,Ao=$o=null,t.current=r,Kp(r),Sf(),U=a,F=o,ze.transition=i}else t.current=r;if(ws&&(ws=!1,Pt=t,si=s),i=t.pendingLanes,i===0&&(Lt=null),Ef(r.stateNode),Ce(t,re()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ni)throw ni=!1,t=ta,ta=null,t;return si&1&&t.tag!==0&&Ur(),i=t.pendingLanes,i&1?t===ra?jn++:(jn=0,ra=t):jn=0,Wt(),null}function Ur(){if(Pt!==null){var t=Ic(si),e=ze.transition,r=F;try{if(ze.transition=null,F=16>t?16:t,Pt===null)var n=!1;else{if(t=Pt,Pt=null,si=0,U&6)throw Error(b(331));var s=U;for(U|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(C=c;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:Sn(8,d,i)}var f=d.child;if(f!==null)f.return=d,C=f;else for(;C!==null;){d=C;var p=d.sibling,g=d.return;if(Wd(d),d===c){C=null;break}if(p!==null){p.return=g,C=p;break}C=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sn(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,C=y;break e}C=i.return}}var m=t.current;for(C=m;C!==null;){o=C;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,C=h;else e:for(o=m;C!==null;){if(a=C,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vi(9,a)}}catch(k){ee(a,a.return,k)}if(a===o){C=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,C=x;break e}C=a.return}}if(U=s,Wt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(ci,t)}catch{}n=!0}return n}finally{F=r,ze.transition=e}}return!1}function ku(t,e,r){e=Vr(r,e),e=Id(t,e,1),t=At(t,e,1),e=xe(),t!==null&&(Gn(t,1,e),Ce(t,e))}function ee(t,e,r){if(t.tag===3)ku(t,t,r);else for(;e!==null;){if(e.tag===3){ku(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lt===null||!Lt.has(n))){t=Vr(r,t),t=Rd(e,t,1),e=At(e,t,1),t=xe(),e!==null&&(Gn(e,1,t),Ce(e,t));break}}e=e.return}}function Zp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=xe(),t.pingedLanes|=t.suspendedLanes&r,ce===t&&(he&r)===r&&(le===4||le===3&&(he&130023424)===he&&500>re()-tl?er(t,0):el|=r),Ce(t,e)}function Zd(t,e){e===0&&(t.mode&1?(e=us,us<<=1,!(us&130023424)&&(us=4194304)):e=1);var r=xe();t=vt(t,e),t!==null&&(Gn(t,e,r),Ce(t,r))}function em(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Zd(t,r)}function tm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(b(314))}n!==null&&n.delete(e),Zd(t,r)}var eh;eh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ne.current)Ee=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ee=!1,Fp(t,e,r);Ee=!!(t.flags&131072)}else Ee=!1,G&&e.flags&1048576&&sd(e,Qs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Is(t,e),t=e.pendingProps;var s=Fr(e,ve.current);Mr(e,r),s=Ga(null,e,n,t,s,r);var i=Qa();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Te(n)?(i=!0,Ks(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wa(e),s.updater=yi,e.stateNode=s,s._reactInternals=e,qo(e,n,t,r),e=Ko(null,e,n,!0,i,r)):(e.tag=0,G&&i&&La(e),we(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Is(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=nm(n),t=Ve(n,t),s){case 0:e=Vo(null,e,n,t,r);break e;case 1:e=hu(null,e,n,t,r);break e;case 11:e=cu(null,e,n,t,r);break e;case 14:e=du(null,e,n,Ve(n.type,t),r);break e}throw Error(b(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),Vo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),hu(t,e,n,s,r);case 3:e:{if(Dd(e),t===null)throw Error(b(387));n=e.pendingProps,i=e.memoizedState,s=i.element,cd(t,e),Xs(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vr(Error(b(423)),e),e=fu(t,e,n,r,s);break e}else if(n!==s){s=Vr(Error(b(424)),e),e=fu(t,e,n,r,s);break e}else for(Oe=$t(e.stateNode.containerInfo.firstChild),Ie=e,G=!0,Qe=null,r=ld(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wr(),n===s){e=wt(t,e,r);break e}we(t,e,n,r)}e=e.child}return e;case 5:return dd(e),t===null&&Bo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lo(n,s)?o=null:i!==null&&Lo(n,i)&&(e.flags|=32),Ld(t,e),we(t,e,o,r),e.child;case 6:return t===null&&Bo(e),null;case 13:return Md(t,e,r);case 4:return qa(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=qr(e,null,n,r):we(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),cu(t,e,n,s,r);case 7:return we(t,e,e.pendingProps,r),e.child;case 8:return we(t,e,e.pendingProps.children,r),e.child;case 12:return we(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q(Js,n._currentValue),n._currentValue=o,i!==null)if(Xe(i.value,o)){if(i.children===s.children&&!Ne.current){e=wt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=mt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Fo(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Fo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Mr(e,r),s=Fe(s),n=n(s),e.flags|=1,we(t,e,n,r),e.child;case 14:return n=e.type,s=Ve(n,e.pendingProps),s=Ve(n.type,s),du(t,e,n,s,r);case 15:return $d(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ve(n,s),Is(t,e),e.tag=1,Te(n)?(t=!0,Ks(e)):t=!1,Mr(e,r),Od(e,n,s),qo(e,n,s,r),Ko(null,e,n,!0,t,r);case 19:return Ud(t,e,r);case 22:return Ad(t,e,r)}throw Error(b(156,e.tag))};function th(t,e){return Tc(t,e)}function rm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,e,r,n){return new rm(t,e,r,n)}function il(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nm(t){if(typeof t=="function")return il(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ba)return 11;if(t===ja)return 14}return 2}function Mt(t,e){var r=t.alternate;return r===null?(r=Ue(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function As(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")il(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Sr:return tr(r.children,s,i,e);case Sa:o=8,s|=8;break;case po:return t=Ue(12,r,e,s|2),t.elementType=po,t.lanes=i,t;case mo:return t=Ue(13,r,e,s),t.elementType=mo,t.lanes=i,t;case go:return t=Ue(19,r,e,s),t.elementType=go,t.lanes=i,t;case dc:return xi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uc:o=10;break e;case cc:o=9;break e;case ba:o=11;break e;case ja:o=14;break e;case bt:o=16,n=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Ue(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function tr(t,e,r,n){return t=Ue(7,t,n,e),t.lanes=r,t}function xi(t,e,r,n){return t=Ue(22,t,n,e),t.elementType=dc,t.lanes=r,t.stateNode={isHidden:!1},t}function ro(t,e,r){return t=Ue(6,t,null,e),t.lanes=r,t}function no(t,e,r){return e=Ue(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ol(t,e,r,n,s,i,o,a,l){return t=new sm(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ue(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wa(i),t}function im(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function rh(t){if(!t)return zt;t=t._reactInternals;e:{if(ur(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Te(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var r=t.type;if(Te(r))return rd(t,r,e)}return e}function nh(t,e,r,n,s,i,o,a,l){return t=ol(r,n,!0,t,s,i,o,a,l),t.context=rh(null),r=t.current,n=xe(),s=Dt(r),i=mt(n,s),i.callback=e??null,At(r,i,s),t.current.lanes=s,Gn(t,s,n),Ce(t,n),t}function _i(t,e,r,n){var s=e.current,i=xe(),o=Dt(s);return r=rh(r),e.context===null?e.context=r:e.pendingContext=r,e=mt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=At(s,e,o),t!==null&&(Ye(t,s,o,i),Cs(t,s,o)),o}function oi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Su(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function al(t,e){Su(t,e),(t=t.alternate)&&Su(t,e)}function om(){return null}var sh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ll(t){this._internalRoot=t}ki.prototype.render=ll.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));_i(t,e,null,null)};ki.prototype.unmount=ll.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;or(function(){_i(null,t,null,null)}),e[yt]=null}};function ki(t){this._internalRoot=t}ki.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ac();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Et.length&&e!==0&&e<Et[r].priority;r++);Et.splice(r,0,t),r===0&&Dc(t)}};function ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Si(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bu(){}function am(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=oi(o);i.call(c)}}var o=nh(e,n,t,0,null,!1,!1,"",bu);return t._reactRootContainer=o,t[yt]=o.current,Dn(t.nodeType===8?t.parentNode:t),or(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=oi(l);a.call(c)}}var l=ol(t,0,!1,null,null,!1,!1,"",bu);return t._reactRootContainer=l,t[yt]=l.current,Dn(t.nodeType===8?t.parentNode:t),or(function(){_i(e,l,r,n)}),l}function bi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=oi(o);a.call(l)}}_i(e,o,t,s)}else o=am(r,e,t,s,n);return oi(o)}Rc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=pn(e.pendingLanes);r!==0&&(Ta(e,r|1),Ce(e,re()),!(U&6)&&(Kr=re()+500,Wt()))}break;case 13:or(function(){var n=vt(t,1);if(n!==null){var s=xe();Ye(n,t,1,s)}}),al(t,1)}};Ca=function(t){if(t.tag===13){var e=vt(t,134217728);if(e!==null){var r=xe();Ye(e,t,134217728,r)}al(t,134217728)}};$c=function(t){if(t.tag===13){var e=Dt(t),r=vt(t,e);if(r!==null){var n=xe();Ye(r,t,e,n)}al(t,e)}};Ac=function(){return F};Lc=function(t,e){var r=F;try{return F=t,e()}finally{F=r}};Eo=function(t,e,r){switch(e){case"input":if(wo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=pi(n);if(!s)throw Error(b(90));fc(n),wo(n,s)}}}break;case"textarea":mc(t,r);break;case"select":e=r.value,e!=null&&$r(t,!!r.multiple,e,!1)}};kc=rl;Sc=or;var lm={usingClientEntryPoint:!1,Events:[Jn,Nr,pi,xc,_c,rl]},un={findFiberByHostInstance:Yt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},um={bundleType:un.bundleType,version:un.version,rendererPackageName:un.rendererPackageName,rendererConfig:un.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ec(t),t===null?null:t.stateNode},findFiberByHostInstance:un.findFiberByHostInstance||om,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xs.isDisabled&&xs.supportsFiber)try{ci=xs.inject(um),ot=xs}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;$e.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ul(e))throw Error(b(200));return im(t,e,null,r)};$e.createRoot=function(t,e){if(!ul(t))throw Error(b(299));var r=!1,n="",s=sh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ol(t,1,!1,null,null,r,!1,n,s),t[yt]=e.current,Dn(t.nodeType===8?t.parentNode:t),new ll(e)};$e.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Ec(e),t=t===null?null:t.stateNode,t};$e.flushSync=function(t){return or(t)};$e.hydrate=function(t,e,r){if(!Si(e))throw Error(b(200));return bi(null,t,e,!0,r)};$e.hydrateRoot=function(t,e,r){if(!ul(t))throw Error(b(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=sh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=nh(e,null,t,1,r??null,s,!1,i,o),t[yt]=e.current,Dn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ki(e)};$e.render=function(t,e,r){if(!Si(e))throw Error(b(200));return bi(null,t,e,!1,r)};$e.unmountComponentAtNode=function(t){if(!Si(t))throw Error(b(40));return t._reactRootContainer?(or(function(){bi(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};$e.unstable_batchedUpdates=rl;$e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Si(r))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return bi(t,e,r,!1,n)};$e.version="18.3.1-next-f1338f8080-20240426";function ih(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ih)}catch(t){console.error(t)}}ih(),ic.exports=$e;var cm=ic.exports,oh,ju=cm;oh=ju.createRoot,ju.hydrateRoot;const dm="modulepreload",hm=function(t){return"/"+t},Eu={},Xn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=hm(l),l in Eu)return;Eu[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":dm,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},fm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xn(async()=>{const{default:n}=await Promise.resolve().then(()=>Xr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class cl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Nu extends cl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tu extends cl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cu extends cl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ia;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ia||(ia={}));var pm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class mm{constructor(e,{headers:r={},customFetch:n,region:s=ia.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=fm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return pm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o,signal:a}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let f;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:f,signal:a}).catch(_=>{throw _.name==="AbortError"?_:new Nu(_)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new Tu(p);if(!p.ok)throw new Cu(p);let w=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return w==="application/json"?v=yield p.json():w==="application/octet-stream"?v=yield p.blob():w==="text/event-stream"?v=p:w==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Nu(s)}:{data:null,error:s,response:s instanceof Cu||s instanceof Tu?s.context:void 0}}})}}var je={},dl={},ji={},Zn={},Ei={},Ni={},gm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gr=gm();const ym=Gr.fetch,ah=Gr.fetch.bind(Gr),lh=Gr.Headers,vm=Gr.Request,wm=Gr.Response,Xr=Object.freeze(Object.defineProperty({__proto__:null,Headers:lh,Request:vm,Response:wm,default:ah,fetch:ym},Symbol.toStringTag,{value:"Module"})),xm=Lh(Xr);var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});let _m=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ti.default=_m;var uh=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const km=uh(xm),Sm=uh(Ti);let bm=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=km.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let d=null,f=null,p=null,g=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=m:f=JSON.parse(m))}const _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,g=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const _=await i.text();try{d=JSON.parse(_),Array.isArray(d)&&i.status===404&&(f=[],d=null,g=200,w="OK")}catch{i.status===404&&_===""?(g=204,w="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,g=200,w="OK"),d&&this.shouldThrowOnError)throw new Sm.default(d)}return{error:d,data:f,count:p,status:g,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Ni.default=bm;var jm=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});const Em=jm(Ni);let Nm=class extends Em.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ei.default=Nm;var Tm=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zn,"__esModule",{value:!0});const Cm=Tm(Ei);let Pm=class extends Cm.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Zn.default=Pm;var Om=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ji,"__esModule",{value:!0});const cn=Om(Zn);let Im=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new cn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new cn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new cn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new cn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new cn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};ji.default=Im;var ch=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dl,"__esModule",{value:!0});const Rm=ch(ji),$m=ch(Zn);let Am=class dh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Rm.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new dh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(a="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new $m.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};dl.default=Am;var Zr=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const hh=Zr(dl);je.PostgrestClient=hh.default;const fh=Zr(ji);je.PostgrestQueryBuilder=fh.default;const ph=Zr(Zn);je.PostgrestFilterBuilder=ph.default;const mh=Zr(Ei);je.PostgrestTransformBuilder=mh.default;const gh=Zr(Ni);je.PostgrestBuilder=gh.default;const yh=Zr(Ti);je.PostgrestError=yh.default;var Lm=je.default={PostgrestClient:hh.default,PostgrestQueryBuilder:fh.default,PostgrestFilterBuilder:ph.default,PostgrestTransformBuilder:mh.default,PostgrestBuilder:gh.default,PostgrestError:yh.default};const{PostgrestClient:Dm,PostgrestQueryBuilder:Ov,PostgrestFilterBuilder:Iv,PostgrestTransformBuilder:Rv,PostgrestBuilder:$v,PostgrestError:Av}=Lm;class Mm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Um="2.15.5",zm=`realtime-js/${Um}`,Bm="1.0.0",oa=1e4,Fm=1e3,Wm=100;var En;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(En||(En={}));var oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(oe||(oe={}));var Ge;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ge||(Ge={}));var aa;(function(t){t.websocket="websocket"})(aa||(aa={}));var Jt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jt||(Jt={}));class qm{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class vh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(W||(W={}));const Pu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Hm(o,t,e,s),i),{})},Hm=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?wh(i,o):la(o)},wh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Qm(e,r)}switch(t){case W.bool:return Vm(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Km(e);case W.json:case W.jsonb:return Gm(e);case W.timestamp:return Jm(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return la(e);default:return la(e)}},la=t=>t,Vm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Km=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Gm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Qm=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>wh(e,a))}return t},Jm=t=>typeof t=="string"?t.replace(" ","T"):t,xh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class so{constructor(e,r,n={},s=oa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ou;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ou||(Ou={}));class Nn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Nn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Nn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const p=d.map(_=>_.presence_ref),g=f.map(_=>_.presence_ref),w=d.filter(_=>g.indexOf(_.presence_ref)<0),v=f.filter(_=>p.indexOf(_.presence_ref)<0);w.length>0&&(a[c]=w),v.length>0&&(l[c]=v)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(g=>g.presence_ref),p=d.filter(g=>f.indexOf(g.presence_ref)<0);e[a].unshift(...p)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Iu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Iu||(Iu={}));var Tn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Tn||(Tn={}));var dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dt||(dt={}));class hl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new so(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new vh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Nn(this),this.broadcastEndpointURL=xh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Tn.PRESENCE]&&this.bindings[Tn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(dt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(dt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var w;if(this.socket.setAuth(),g===void 0){e==null||e(dt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,_=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,y=[];for(let m=0;m<_;m++){const h=v[m],{filter:{event:x,schema:k,table:S,filter:j}}=h,N=g&&g[m];if(N&&N.event===x&&N.schema===k&&N.table===S&&N.filter===j)y.push(Object.assign(Object.assign({},h),{id:N.id}));else{this.unsubscribe(),this.state=oe.errored,e==null||e(dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(dt.SUBSCRIBED);return}}).receive("error",g=>{this.state=oe.errored,e==null||e(dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===oe.joined&&e===Tn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new so(this,Ge.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new so(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Wm){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ge;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var w,v,_;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(v=g.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var w,v,_,y,m,h;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const x=g.id,k=(w=g.filter)===null||w===void 0?void 0:w.event;return x&&((v=r.ids)===null||v===void 0?void 0:v.includes(x))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(m=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((h=r==null?void 0:r.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:v,table:_,commit_timestamp:y,type:m,errors:h}=w;p=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:y,eventType:m,new:{},old:{},errors:h}),this._getPayloadRecords(w))}g.callback(p,n)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&hl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Pu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Pu(e.columns,e.old_record)),r}}const io=()=>{},_s={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ym=[1e3,2e3,5e3,1e4],Xm=1e4,Zm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eg{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oa,this.transport=null,this.heartbeatIntervalMs=_s.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=io,this.ref=0,this.reconnectTimer=null,this.logger=io,this.conn=null,this.sendBuffer=[],this.serializer=new qm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Xn(async()=>{const{default:a}=await Promise.resolve().then(()=>Xr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${aa.websocket}`,this.httpEndpoint=xh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bm}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case En.connecting:return Jt.Connecting;case En.open:return Jt.Open;case En.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new hl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Fm,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_s.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Zm],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:zm};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ge.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new vh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_s.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:oa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:_s.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:io,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:f=>Ym[f-1]||Xm,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(f,p)=>p(JSON.stringify(f)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class fl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tg extends fl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ua extends fl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var rg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const _h=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xn(async()=>{const{default:n}=await Promise.resolve().then(()=>Xr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ng=()=>rg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xn(()=>Promise.resolve().then(()=>Xr),void 0)).Response:Response}),ca=t=>{if(Array.isArray(t))return t.map(r=>ca(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ca(n)}),e},sg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var cr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ig=(t,e,r)=>cr(void 0,void 0,void 0,function*(){const n=yield ng();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new tg(oo(s),i,o))}).catch(s=>{e(new ua(oo(s),s))}):e(new ua(oo(t),t))}),og=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(sg(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function es(t,e,r,n,s,i){return cr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,og(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ig(l,a,n))})})}function ai(t,e,r,n){return cr(this,void 0,void 0,function*(){return es(t,"GET",e,r,n)})}function st(t,e,r,n,s){return cr(this,void 0,void 0,function*(){return es(t,"POST",e,n,s,r)})}function da(t,e,r,n,s){return cr(this,void 0,void 0,function*(){return es(t,"PUT",e,n,s,r)})}function ag(t,e,r,n){return cr(this,void 0,void 0,function*(){return es(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function kh(t,e,r,n,s){return cr(this,void 0,void 0,function*(){return es(t,"DELETE",e,n,s,r)})}var lg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class ug{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return lg(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}}var cg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class dg{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new ug(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return cg(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}}var Se=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const hg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ru={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fg{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=_h(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Se(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ru),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield(e=="PUT"?da:st)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(se(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Se(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Ru.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield da(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(se(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield st(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new fl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}update(e,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Se(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield st(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Se(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield st(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Se(this,void 0,void 0,function*(){try{const s=yield st(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>ai(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new dg(l,this.shouldThrowOnError)}info(e){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ai(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ca(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}exists(e){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ag(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n)&&n instanceof ua){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Se(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}list(e,r,n){return Se(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},hg),r),{prefix:e||""});return{data:yield st(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}listV2(e,r){return Se(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield st(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const pg="2.12.2",mg={"X-Client-Info":`storage-js/${pg}`};var mr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class gg{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},mg),r),this.fetch=_h(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return mr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}getBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return mr(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return mr(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}emptyBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield st(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}deleteBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}}class yg extends gg{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new fg(this.url,this.headers,e,this.fetch)}}const vg="2.58.0";let gn="";typeof Deno<"u"?gn="deno":typeof document<"u"?gn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gn="react-native":gn="node";const wg={"X-Client-Info":`supabase-js-${gn}/${vg}`},xg={headers:wg},_g={schema:"public"},kg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sg={};var bg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const jg=t=>{let e;return t?e=t:typeof fetch>"u"?e=ah:e=fetch,(...r)=>e(...r)},Eg=()=>typeof Headers>"u"?lh:Headers,Ng=(t,e,r)=>{const n=jg(r),s=Eg();return(i,o)=>bg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Tg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function Cg(t){return t.endsWith("/")?t:t+"/"}function Pg(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:f}=e,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Tg(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function Og(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cg(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sh="2.72.0",xr=30*1e3,ha=3,ao=ha*xr,Ig="http://localhost:9999",Rg="supabase.auth.token",$g={"X-Client-Info":`gotrue-js/${Sh}`},fa="X-Supabase-Api-Version",bh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ag=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lg=10*60*1e3;class pl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Dg extends pl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Mg(t){return I(t)&&t.name==="AuthApiError"}class jh extends pl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class qt extends pl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class St extends qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ug(t){return I(t)&&t.name==="AuthSessionMissingError"}class dn extends qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ks extends qt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ss extends qt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zg(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class $u extends qt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pa extends qt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function lo(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Au extends qt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ma extends qt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const li="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Lu=` 	
\r=`.split(""),Bg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Lu.length;e+=1)t[Lu[e].charCodeAt(0)]=-2;for(let e=0;e<li.length;e+=1)t[li[e].charCodeAt(0)]=e;return t})();function Du(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(li[n]),e.queuedBits-=6}}function Eh(t,e,r){const n=Bg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mu(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{qg(o,n,r)};for(let o=0;o<t.length;o+=1)Eh(t.charCodeAt(o),s,i);return e.join("")}function Fg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Wg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Fg(n,e)}}function qg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Hg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Eh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Vg(t){const e=[];return Wg(t,r=>e.push(r)),new Uint8Array(e)}function Kg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Du(s,r,n)),Du(null,r,n),e.join("")}function Gg(t){return Math.round(Date.now()/1e3)+t}function Qg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Le=()=>typeof window<"u"&&typeof document<"u",Ht={tested:!1,writable:!1},Nh=()=>{if(!Le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ht.tested)return Ht.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ht.tested=!0,Ht.writable=!0}catch{Ht.tested=!0,Ht.writable=!1}return Ht.writable};function Jg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Th=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Xn(async()=>{const{default:n}=await Promise.resolve().then(()=>Xr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Yg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_r=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Vt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},kt=async(t,e)=>{await t.removeItem(e)};class Ci{constructor(){this.promise=new Ci.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ci.promiseConstructor=Promise;function uo(t){const e=t.split(".");if(e.length!==3)throw new ma("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Ag.test(e[n]))throw new ma("JWT not in base64url format");return{header:JSON.parse(Mu(e[0])),payload:JSON.parse(Mu(e[1])),signature:Hg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Xg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Zg(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function ey(t){return("0"+t.toString(16)).substr(-2)}function ty(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,ey).join("")}async function ry(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ny(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await ry(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gr(t,e,r=!1){const n=ty();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await _r(t,`${e}-code-verifier`,s);const i=await ny(n);return[i,n===i?"plain":"s256"]}const sy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iy(t){const e=t.headers.get(fa);if(!e||!e.match(sy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ay(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ly=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yr(t){if(!ly.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function co(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uu(t){return JSON.parse(JSON.stringify(t))}var uy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cy=[502,503,504];async function zu(t){var e;if(!Yg(t))throw new pa(Qt(t),0);if(cy.includes(t.status))throw new pa(Qt(t),t.status);let r;try{r=await t.json()}catch(i){throw new jh(Qt(i),i)}let n;const s=iy(t);if(s&&s.getTime()>=bh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Au(Qt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new St}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Au(Qt(r),t.status,r.weak_password.reasons);throw new Dg(Qt(r),t.status||500,n)}const dy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function A(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[fa]||(i[fa]=bh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hy(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function hy(t,e,r,n,s,i){const o=dy(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new pa(Qt(l),0)}if(a.ok||await zu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await zu(l)}}function rt(t){var e;let r=null;gy(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Gg(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Bu(t){const e=rt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fy(t){return{data:t,error:null}}function py(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=uy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function my(t){return t}function gy(t){return t.access_token&&t.refresh_token&&t.expires_in}const ho=["global","local","others"];var yy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class vy{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Th(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=ho[0]){if(ho.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ho.join(", ")}`);try{return await A(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=yy(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:py,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:my});if(d.error)throw d.error;const f=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);c[`${_}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){yr(e);try{return await A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){yr(e);try{return await A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){yr(e);try{return await A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){yr(e.userId);try{const{data:r,error:n}=await A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(e){yr(e.userId),yr(e.id);try{return{data:await A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Fu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function wy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vr={debug:!!(globalThis&&Nh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ch extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xy extends Ch{}async function _y(t,e,r){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ph(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ky(t){return parseInt(t,16)}function Sy(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function by(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:f,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=Ph(t.address),w=d?`${d}://${n}`:n,v=t.statement?`${t.statement}
`:"",_=`${w} wants you to sign in with your Ethereum account:
${g}

${v}`;let y=`URI: ${f}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const h of c){if(!h||typeof h!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${h}`);m+=`
- ${h}`}y+=m}return`${_}
${y}`}wy();const jy={url:Ig,storageKey:Rg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$g,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wu(t,e,r){return await r()}const wr={};class Vn{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vn.nextInstanceID,Vn.nextInstanceID+=1,this.instanceID>0&&Le()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Th(s.fetch),this.lock=s.lock||Wu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Le()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=_y:this.lock=Wu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Nh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Fu(this.memoryStorage)),Le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=wr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=wr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wr[this.storageKey]=Object.assign(Object.assign({},wr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Jg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Le()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zg(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?{error:r}:{error:new jh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:rt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:p}=e;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await gr(this.storage,this.storageKey)),i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:w},xform:rt})}else if("phone"in e){const{phone:d,password:f,options:p}=e;i=await A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:rt})}else throw new ks("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bu})}else throw new ks("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new dn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,c,d,f,p;let g,w;if("message"in e)g=e.message,w=e.signature;else{const{chain:v,wallet:_,statement:y,options:m}=e;let h;if(Le())if(typeof _=="object")h=_;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")h=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");h=_}const x=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),k=await h.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Ph(k[0]);let j=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const M=await h.request({method:"eth_chainId"});j=ky(M)}const N={domain:x.host,address:S,statement:y,uri:x.href,version:"1",chainId:j,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=by(N),w=await h.request({method:"personal_sign",params:[Sy(g),S]})}try{const{data:v,error:_}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:w},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:rt});if(_)throw _;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new dn}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:_})}catch(v){if(I(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,f,p,g;let w,v;if("message"in e)w=e.message,v=e.signature;else{const{chain:_,wallet:y,statement:m,options:h}=e;let x;if(Le())if(typeof y=="object")x=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))x=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const k=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const S=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let j;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")j=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)j=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),v=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=h==null?void 0:h.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((a=h==null?void 0:h.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((c=h==null?void 0:h.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((f=(d=h==null?void 0:h.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...h.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const S=await x.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:_,error:y}=await A(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Kg(v)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:rt});if(y)throw y;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new dn}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:y})}catch(_){if(I(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await Vt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:rt});if(await kt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new dn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new dn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await gr(this.storage,this.storageKey));const{error:f}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ks("You must provide either an email or phone number.")}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await gr(this.storage,this.storageKey)),await A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fy})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new St;const{error:s}=await A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await A(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await A(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ks("You must provide either an email or phone number and a type")}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Vt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ao:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Vt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=co()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(r){if(I(r))return Ug(r)&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new St;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await gr(this.storage,this.storageKey));const{data:c,error:d}=await A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Tt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=uo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(I(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Le())throw new Ss("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ss(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $u("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ss("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $u("No code detected.");const{data:m,error:h}=await this._exchangeCodeForSession(e.code);if(h)throw h;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Ss("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;l&&(p=parseInt(l));const g=p-d;g*1e3<=xr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const w=p-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,d);const{data:v,error:_}=await this._getUser(i);if(_)throw _;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(I(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Vt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Mg(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Qg(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await gr(this.storage,this.storageKey,!0));try{return await A(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:f,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await A(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Le()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(I(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await A(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Zg(async s=>(s>0&&await Xg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lo(i)&&Date.now()+o-n<xr})}catch(n){if(this._debug(r,"error",n),I(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Le()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Vt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Vt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await _r(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:co()}else if(s&&!s.user&&!s.user){const o=await Vt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await kt(this.storage,this.storageKey+"-user"),await _r(this.storage,this.storageKey,s)):s.user=co()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ao;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ao}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),lo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ci;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new St;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return lo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await _r(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Uu(s);await _r(this.storage,this.storageKey,i)}else{const s=Uu(r);await _r(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await kt(this.storage,this.storageKey),await kt(this.storage,this.storageKey+"-code-verifier"),await kt(this.storage,this.storageKey+"-user"),this.userStorage&&await kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Le()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/xr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xr}ms, refresh threshold is ${ha} ticks`),s<=ha&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ch)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Le()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await gr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await A(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await A(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await A(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Lg>s)return n;const{data:i,error:o}=await A(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};n=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=uo(n);r!=null&&r.allowExpired||oy(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const d=ay(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Vg(`${a}.${l}`)))throw new ma("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}Vn.nextInstanceID=0;const Ey=Vn;class Ny extends Ey{constructor(e){super(e)}}var Ty=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function l(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Cy{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Og(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:_g,realtime:Sg,auth:Object.assign(Object.assign({},kg),{storageKey:l}),global:xg},d=Pg(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Ng(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Dm(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new yg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new mm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Ty(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ny({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new eg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Py=(t,e,r)=>new Cy(t,e,r);function Oy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Oy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Iy="https://tqocrvxygnuxpcqeemys.supabase.co",Ry="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRxb2Nydnh5Z251eHBjcWVlbXlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyNTI2MTMsImV4cCI6MjA3MzgyODYxM30.7tSmQDhpLJ1SID3j0jEeiSR49OAZwKHZGk-n5tGrpPo",L=Py(Iy,Ry),Oh=E.createContext(void 0);function $y({children:t}){const[e,r]=E.useState(null),[n,s]=E.useState(null),[i,o]=E.useState(!0);E.useEffect(()=>{L.auth.getSession().then(({data:{session:p}})=>{s(p),r((p==null?void 0:p.user)??null),o(!1)});const{data:{subscription:f}}=L.auth.onAuthStateChange((p,g)=>{s(g),r((g==null?void 0:g.user)??null),o(!1)});return()=>f.unsubscribe()},[]);const d={user:e,session:n,loading:i,signUp:async(f,p)=>{const{error:g}=await L.auth.signUp({email:f,password:p});if(g)throw g},signIn:async(f,p)=>{const{error:g}=await L.auth.signInWithPassword({email:f,password:p});if(g)throw g},signOut:async()=>{const{error:f}=await L.auth.signOut();if(f)throw f}};return u.jsx(Oh.Provider,{value:d,children:t})}function lt(){const t=E.useContext(Oh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function ml(){const[t,e]=E.useState(null),[r,n]=E.useState(!0),{user:s}=lt();E.useEffect(()=>{s?i():(e(null),n(!1))},[s]);const i=async()=>{if(s)try{console.log("Fetching profile for user:",s.id);const{data:a,error:l}=await L.from("profiles").select("*").eq("id",s.id).maybeSingle();if(l&&l.code!=="PGRST116")throw l;console.log("Profile data received:",a),e(a)}catch(a){console.error("Error fetching profile:",a),a instanceof TypeError&&a.message.includes("Failed to fetch")&&console.error("Network error: Cannot connect to Supabase. Please check your connection and environment variables."),e(null)}finally{n(!1)}};return{profile:t,loading:r,updateProfile:async a=>{if(s)try{const{data:l,error:c}=await L.from("profiles").upsert({id:s.id,email:s.email,...a,updated_at:new Date().toISOString()}).select().single();if(c)throw c;return e(l),l}catch(l){throw console.error("Error updating profile:",l),l}},refetch:i}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ay={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(t,e)=>{const r=E.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>E.createElement("svg",{ref:d,...Ay,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Ly(t)}`,a].join(" "),...c},[...e.map(([f,p])=>E.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=z("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=z("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=z("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=z("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=z("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function sv(){const[t,e]=E.useState("checking"),[r,n]=E.useState("");E.useEffect(()=>{s();const l=setInterval(s,3e4);return()=>clearInterval(l)},[]);const s=async()=>{try{console.log("Checking Supabase connection...");const l="https://tqocrvxygnuxpcqeemys.supabase.co",c="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRxb2Nydnh5Z251eHBjcWVlbXlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyNTI2MTMsImV4cCI6MjA3MzgyODYxM30.7tSmQDhpLJ1SID3j0jEeiSR49OAZwKHZGk-n5tGrpPo";console.log("Supabase URL:",l?"Set":"Not set"),console.log("Supabase Key:",c?"Set":"Not set"),console.log("Testing Supabase connection...");const{data:d,error:f}=await L.auth.getSession();if(f){console.error("Auth session error:",f),e("error"),n(f.message);return}console.log("Testing database access...");const{error:p}=await L.from("profiles").select("count").limit(1);if(p){console.error("Database access error:",p),e("error"),n(`Database error: ${p.message}`);return}console.log("Supabase connection successful!"),e("connected")}catch(l){console.error("Connection check failed:",l),e("error"),n(l.message||"Unknown error")}},i=()=>{switch(t){case"connected":return u.jsx(ts,{className:"w-5 h-5 text-green-600"});case"disconnected":return u.jsx(rv,{className:"w-5 h-5 text-red-600"});case"error":return u.jsx(gl,{className:"w-5 h-5 text-yellow-600"});default:return u.jsx(Fy,{className:"w-5 h-5 text-gray-600 animate-pulse"})}},o=()=>{switch(t){case"connected":return"Database Connected";case"disconnected":return"Database Not Connected";case"error":return"Database Connection Error";default:return"Checking Connection..."}},a=()=>{switch(t){case"connected":return"bg-green-50 border-green-200 text-green-800";case"disconnected":return"bg-red-50 border-red-200 text-red-800";case"error":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}};return u.jsxs("div",{className:`rounded-lg p-4 border ${a()}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[i(),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:o()}),r&&u.jsx("p",{className:"text-sm mt-1 opacity-80",children:r}),t==="disconnected"&&u.jsx("p",{className:"text-sm mt-1 opacity-80",children:'Click "Connect to Supabase" in the top right to set up your database'})]})]}),u.jsx("button",{onClick:s,className:"mt-3 text-sm underline opacity-70 hover:opacity-100",children:"Recheck Connection"})]})}function iv({onBack:t}){const[e,r]=E.useState(!1),[n,s]=E.useState(!1),[i,o]=E.useState(""),[a,l]=E.useState(""),[c,d]=E.useState(!1),[f,p]=E.useState(""),[g,w]=E.useState(""),{signIn:v,signUp:_}=lt(),y=async h=>{var x,k,S;h.preventDefault(),d(!0),p("");try{e?await _(i,a):await v(i,a)}catch(j){(x=j.message)!=null&&x.includes("Invalid login credentials")?p("Invalid email or password. Please check your credentials and try again."):(k=j.message)!=null&&k.includes("Email not confirmed")?p("Please check your email and click the confirmation link before signing in."):(S=j.message)!=null&&S.includes("User already registered")?p("An account with this email already exists. Try signing in instead."):p(j.message||"An error occurred during authentication.")}finally{d(!1)}},m=async h=>{h.preventDefault(),d(!0),p(""),w("");try{const{error:x}=await L.auth.resetPasswordForEmail(i,{redirectTo:`${window.location.origin}`});if(x)throw x;w("Password reset email sent! Check your inbox for further instructions.")}catch(x){p(x.message||"An error occurred while sending the reset email.")}finally{d(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-soft-ivory to-warm-blush flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-sage-green/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Rh,{className:"w-8 h-8 text-palm-green"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"The Mindful Money App"}),u.jsx("p",{className:"text-gray-600",children:n?"Reset your password":e?"Create your account":"Welcome back"}),t&&u.jsx("button",{onClick:t,className:"mt-4 text-soft-clay hover:text-muted-taupe text-sm underline",children:" Back to learn more"})]}),u.jsxs("form",{onSubmit:n?m:y,className:"space-y-6",children:[u.jsx(sv,{}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ky,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"email",value:i,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-3 border border-greige rounded-lg focus:ring-2 focus:ring-soft-clay focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:a,onChange:h=>l(h.target.value),className:"w-full pl-10 pr-4 py-3 border border-greige rounded-lg focus:ring-2 focus:ring-soft-clay focus:border-transparent",placeholder:"Enter your password",required:!0,minLength:6})]})]}),f&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsx("p",{className:"text-red-600 text-sm",children:f})}),g&&u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:u.jsx("p",{className:"text-green-600 text-sm",children:g})}),u.jsx("button",{type:"submit",disabled:c,className:"w-full bg-soft-clay text-white py-3 px-4 rounded-lg font-medium hover:bg-muted-taupe focus:ring-2 focus:ring-soft-clay focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Loading...":n?"Send Reset Email":e?"Create Account":"Sign In"})]}),!e&&!n&&u.jsx("div",{className:"mt-4 text-center",children:u.jsx("button",{onClick:()=>s(!0),className:"text-soft-clay hover:text-muted-taupe text-sm underline",children:"Forgot your password?"})}),n&&u.jsx("div",{className:"mt-4 text-center",children:u.jsx("button",{onClick:()=>{s(!1),p(""),w("")},className:"text-soft-clay hover:text-muted-taupe text-sm underline",children:" Back to sign in"})}),u.jsx("div",{className:"mt-6 text-center",children:!n&&u.jsx("button",{onClick:()=>r(!e),className:"text-soft-clay hover:text-muted-taupe font-medium",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}function ov(){const[t,e]=E.useState(""),[r,n]=E.useState(""),[s,i]=E.useState(!1),[o,a]=E.useState(""),[l,c]=E.useState(!1),[d,f]=E.useState(!1);E.useEffect(()=>{(async()=>{const{data:{session:w}}=await L.auth.getSession();w?f(!0):a("Invalid or expired reset link. Please request a new password reset.")})()},[]);const p=async g=>{if(g.preventDefault(),i(!0),a(""),t!==r){a("Passwords do not match"),i(!1);return}if(t.length<6){a("Password must be at least 6 characters long"),i(!1);return}try{const{error:w}=await L.auth.updateUser({password:t});if(w)throw w;c(!0),setTimeout(()=>{window.location.href="/"},3e3)}catch(w){a(w.message||"An error occurred while updating your password.")}finally{i(!1)}};return l?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-soft-ivory to-warm-blush flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ts,{className:"w-8 h-8 text-green-600"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Updated!"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Your password has been successfully updated. You'll be redirected to the app shortly."}),u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-600 mx-auto"})]})}):!d&&o?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-soft-ivory to-warm-blush flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(gl,{className:"w-8 h-8 text-red-600"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Invalid Reset Link"}),u.jsx("p",{className:"text-gray-600 mb-6",children:o}),u.jsx("a",{href:"/",className:"inline-block bg-soft-clay text-white py-3 px-6 rounded-lg font-medium hover:bg-muted-taupe transition-colors",children:"Back to Sign In"})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-soft-ivory to-warm-blush flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-sage-green/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Ls,{className:"w-8 h-8 text-palm-green"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Reset Your Password"}),u.jsx("p",{className:"text-gray-600",children:"Enter your new password below"})]}),u.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:t,onChange:g=>e(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-greige rounded-lg focus:ring-2 focus:ring-soft-clay focus:border-transparent",placeholder:"Enter new password",required:!0,minLength:6})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"password",value:r,onChange:g=>n(g.target.value),className:"w-full pl-10 pr-4 py-3 border border-greige rounded-lg focus:ring-2 focus:ring-soft-clay focus:border-transparent",placeholder:"Confirm new password",required:!0,minLength:6})]})]}),o&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsx("p",{className:"text-red-600 text-sm",children:o})}),u.jsx("button",{type:"submit",disabled:s||!d,className:"w-full bg-soft-clay text-white py-3 px-4 rounded-lg font-medium hover:bg-muted-taupe focus:ring-2 focus:ring-soft-clay focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Updating Password...":"Update Password"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("a",{href:"/",className:"text-soft-clay hover:text-muted-taupe font-medium",children:"Back to Sign In"})})]})})}function av({onComplete:t}){const[e,r]=E.useState(1),[n,s]=E.useState(""),[i,o]=E.useState([]),[a,l]=E.useState(!1),{user:c}=lt(),d=["Save more money","Reduce spending","Build an emergency fund","Pay off debt","Invest for the future","Track expenses better","Create a budget","Improve financial mindset"],f=g=>{o(w=>w.includes(g)?w.filter(v=>v!==g):[...w,g])},p=async()=>{if(c){l(!0);try{const{error:g}=await L.from("profiles").upsert({id:c.id,email:c.email,full_name:n,goals:i,updated_at:new Date().toISOString()});if(g)throw g;t()}catch(g){console.error("Error completing onboarding:",g),alert("There was an error setting up your profile. Please try again.")}finally{l(!1)}}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-soft-ivory to-warm-blush flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-sage-green/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e===1?u.jsx(Rh,{className:"w-8 h-8 text-palm-green"}):u.jsx(Pi,{className:"w-8 h-8 text-palm-green"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e===1?"Welcome!":"Your Goals"}),u.jsx("p",{className:"text-gray-600",children:e===1?"Let's get to know you better":"What would you like to achieve?"})]}),e===1?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What should we call you?"}),u.jsx("input",{type:"text",value:n,onChange:g=>s(g.target.value),className:"w-full px-4 py-3 border border-greige rounded-lg focus:ring-2 focus:ring-soft-clay focus:border-transparent",placeholder:"Enter your name",required:!0})]}),u.jsxs("button",{onClick:()=>r(2),disabled:!n.trim(),className:"w-full bg-soft-clay text-white py-3 px-4 rounded-lg font-medium hover:bg-muted-taupe focus:ring-2 focus:ring-soft-clay focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:["Continue",u.jsx(Dy,{className:"w-4 h-4"})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select all that apply (you can change these later):"}),u.jsx("div",{className:"space-y-2",children:d.map(g=>u.jsx("button",{onClick:()=>f(g),className:`w-full text-left px-4 py-3 rounded-lg border transition-colors ${i.includes(g)?"bg-sage-green/10 border-sage-green/30 text-palm-green":"bg-white border-greige text-gray-700 hover:bg-soft-ivory"}`,children:g},g))})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>r(1),className:"flex-1 bg-warm-beige text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-greige transition-colors",children:"Back"}),u.jsx("button",{onClick:p,disabled:a||i.length===0,className:"flex-1 bg-soft-clay text-white py-3 px-4 rounded-lg font-medium hover:bg-muted-taupe focus:ring-2 focus:ring-soft-clay focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Setting up...":"Get Started"})]})]})]})})}function lv(){const[t,e]=E.useState(null),[r,n]=E.useState([]),[s,i]=E.useState(null),[o,a]=E.useState(!0);E.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:c,error:d}=await L.from("tips").select("*").eq("is_active",!0);if(d)throw d;if(c&&c.length>0){const g=c[Math.floor(Math.random()*c.length)];e(g);const{data:w,error:v}=await L.from("quick_actions").select("*").eq("tip_id",g.id);if(v)throw v;n(w||[])}const{data:f,error:p}=await L.from("prompts").select("*").eq("is_active",!0);if(p)throw p;if(f&&f.length>0){const g=f[Math.floor(Math.random()*f.length)];i(g)}}catch(c){console.error("Error fetching daily content:",c)}finally{a(!1)}};return{tip:t,quickActions:r,prompt:s,loading:o,refetch:l}}function uv(){const[t,e]=E.useState([]),[r,n]=E.useState([]),[s,i]=E.useState(!0),{user:o}=lt();E.useEffect(()=>{o&&a()},[o]);const a=async()=>{try{await Promise.all([l(),c()])}catch(p){console.error("Error initializing badges:",p)}finally{i(!1)}},l=async()=>{try{const{data:p,error:g}=await L.from("badges").select("*").order("requirement_value",{ascending:!0});if(g)throw g;e(p||[])}catch(p){console.error("Error fetching badges:",p)}},c=async()=>{if(o)try{const{data:p,error:g}=await L.from("user_badges").select(`
          *,
          badges (*)
        `).eq("user_id",o.id).order("earned_at",{ascending:!1});if(g)throw g;console.log("fetchUserBadges result:",p),n(p||[])}catch(p){console.error("Error fetching user badges:",p),n([])}finally{i(!1)}},d=async()=>{if(o)try{const{data:p,error:g}=await L.from("user_badges").select("badge_id").eq("user_id",o.id);if(g)throw g;const{data:w,error:v}=await L.from("daily_entries").select("*").eq("user_id",o.id).order("entry_date",{ascending:!1});if(v)throw v;const _=f(w||[]),y=(p==null?void 0:p.map(h=>h.badge_id))||[],m=[];for(const h of t){if(y.includes(h.id))continue;console.log(` Checking badge: ${h.name}`),console.log(" Stats:",_),console.log(` Requirement: ${h.requirement_type} >= ${h.requirement_value}`);let x=!1;if(h.name==="First Steps")x=_.totalMorningIntentions>=1,console.log(` First Steps check: ${_.totalMorningIntentions} >= 1 = ${x}`);else if(h.name==="Getting Started")x=_.totalCompletions>=1,console.log(` Getting Started check: ${_.totalCompletions} >= 1 = ${x}`);else{switch(h.requirement_type){case"streak":x=_.currentStreak>=h.requirement_value;break;case"completion":x=_.totalCompletions>=h.requirement_value;break;case"milestone":x=_.totalStars>=h.requirement_value;break}console.log(` General check: ${x}`)}if(x&&console.log(` Badge ${h.name} should be earned! Stats:`,_,"requirement:",h.requirement_value),x){const{error:k}=await L.from("user_badges").insert({user_id:o.id,badge_id:h.id});k?console.error("Error awarding badge:",k):(console.log("Awarded badge:",h.name),m.push(h),y.push(h.id))}}return m.length>0&&await c(),m}catch(p){return console.error("Error checking badges:",p),[]}},f=p=>{const g=p.filter(h=>h.morning_completed&&h.evening_completed).length,w=p.filter(h=>h.morning_completed).length,v=p.filter(h=>h.evening_completed).length,_=p.reduce((h,x)=>h+(x.stars_earned||0),0);let y=0;const m=p.sort((h,x)=>new Date(x.entry_date).getTime()-new Date(h.entry_date).getTime());for(const h of m)if(h.morning_completed&&h.evening_completed)y++;else break;return{totalCompletions:g,totalMorningIntentions:w,totalEveningReflections:v,totalStars:_,currentStreak:y,totalEntries:p.length}};return{badges:t,userBadges:r,loading:s,checkAndAwardBadges:d,refetch:async()=>{await l(),await c()}}}function cv({tip:t,quickActions:e,onActionCommit:r,committedActionId:n}){const s=i=>{switch(i){case"money":return"bg-sage-green/20 text-palm-green border-sage-green/30";case"mindset":return"bg-opal/50 text-muted-taupe border-opal";case"progress":return"bg-soft-sky/50 text-muted-taupe border-soft-sky";default:return"bg-warm-beige text-gray-800 border-greige"}};return u.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[u.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-sage-green/20 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Hy,{className:"w-6 h-6 text-palm-green"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.title}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${s(t.theme)}`,children:t.theme})]}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.content})]})]}),e.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-700",children:"Choose ONE action to focus on today:"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select the action you'll commit to doing today. We'll check in with you this evening!"}),u.jsx("div",{className:"space-y-3",children:e.map(i=>{const o=n===i.id;return u.jsx("button",{onClick:()=>!n&&r(i.id),disabled:!!n,className:`w-full text-left px-4 py-3 rounded-lg border transition-all duration-200 ${o?"bg-sage-green/10 border-sage-green/30 text-palm-green":n?"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed":"bg-soft-ivory border-greige text-gray-700 hover:bg-warm-beige/30 hover:border-soft-clay/50"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${o?"bg-palm-green border-palm-green":"border-gray-400"}`,children:o&&u.jsx(ts,{className:"w-3 h-3 text-white"})}),u.jsx("span",{className:`${o?"font-medium":""}`,children:i.action_text}),o&&u.jsx("span",{className:"ml-auto text-sm font-medium text-palm-green",children:" Committed"})]})},i.id)})}),n&&u.jsxs("div",{className:"bg-sage-green/10 border border-sage-green/30 rounded-lg p-4 mt-4",children:[u.jsx("p",{className:"text-sm font-medium text-palm-green mb-2",children:" Great choice! You've committed to this action."}),u.jsx("p",{className:"text-sm text-gray-700",children:"We'll check in with you this evening to see how it went. Remember, small consistent actions lead to big changes!"})]})]})]})}const Ku=[{id:"1",text:"The real measure of your wealth is how much you'd be worth if you lost all your money.",author:"Anonymous",category:"money"},{id:"2",text:"It's not how much money you make, but how much money you keep, how hard it works for you, and how many generations you keep it for.",author:"Robert Kiyosaki",category:"money"},{id:"3",text:"The stock market is filled with individuals who know the price of everything, but the value of nothing.",author:"Philip Fisher",category:"money"},{id:"4",text:"Your net worth to the network is more important than your network's net worth to you.",author:"Tim O'Reilly",category:"money"},{id:"5",text:"The habit of saving is itself an education; it fosters every virtue, teaches self-denial, cultivates the sense of order, trains to forethought, and so broadens the mind.",author:"T.T. Munger",category:"money"},{id:"6",text:"Whether you think you can or you think you can't, you're right.",author:"Henry Ford",category:"mindset"},{id:"7",text:"The only impossible journey is the one you never begin.",author:"Tony Robbins",category:"mindset"},{id:"8",text:"Your limitationit's only your imagination.",author:"Anonymous",category:"mindset"},{id:"9",text:"Success is not final, failure is not fatal: it is the courage to continue that counts.",author:"Winston Churchill",category:"mindset"},{id:"10",text:"The way to get started is to quit talking and begin doing.",author:"Walt Disney",category:"mindset"},{id:"11",text:"Progress, not perfection.",author:"Anonymous",category:"progress"},{id:"12",text:"A little progress each day adds up to big results.",author:"Satya Nani",category:"progress"},{id:"13",text:"The secret of getting ahead is getting started.",author:"Mark Twain",category:"progress"},{id:"14",text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson",category:"progress"},{id:"15",text:"Small steps in the right direction can turn out to be the biggest step of your life.",author:"Anonymous",category:"progress"}];function dv(){const t=Math.floor(Math.random()*Ku.length);return Ku[t]}function hv(t){const r={money:["Start tracking every expense for the next week to understand where your money goes.","Set up an automatic transfer to savings, even if it's just $5 per week.","Review one subscription or recurring payment today - do you still need it?","Calculate how much a daily coffee habit costs per year - you might be surprised!","Create a simple budget with three categories: needs, wants, and savings."],mindset:["Write down three things you're grateful for about your financial situation today.",`Replace "I can't afford it" with "How can I afford it?" to shift your thinking.`,"Spend 5 minutes visualizing your financial goals as already achieved.","Challenge one limiting belief you have about money today.",'Practice saying "I am worthy of financial abundance" three times in the mirror.'],progress:["Celebrate one small financial win from this week, no matter how tiny.","Set one specific, measurable financial goal for the next 30 days.","Review your progress from last month - what worked and what didn't?","Take one small action today that your future self will thank you for.","Document your financial journey - write down where you are now vs. where you started."]}[t.category],n=Math.floor(Math.random()*r.length);return r[n]}function fv({onIntentionComplete:t,isCompleted:e,intention:r}){const[n,s]=E.useState(null),[i,o]=E.useState(""),[a,l]=E.useState("");E.useEffect(()=>{const f=dv();s(f),o(hv(f))},[]);const c=f=>{f.preventDefault(),a.trim()&&t(a)},d=f=>{switch(f){case"money":return"bg-green-50 border-green-200 text-green-800";case"mindset":return"bg-purple-50 border-purple-200 text-purple-800";case"progress":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}};return e&&r?u.jsxs("div",{className:"bg-gradient-to-br from-sage-green/10 to-palm-green/10 rounded-lg border border-sage-green/30 p-6",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-sage-green/20 rounded-lg flex items-center justify-center",children:u.jsx(ts,{className:"w-6 h-6 text-palm-green"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Morning Intention Set"}),u.jsx("p",{className:"text-palm-green",children:"You're ready to tackle the day!"})]})]}),u.jsxs("div",{className:"bg-white/80 rounded-lg p-4 border border-sage-green/30",children:[u.jsx("p",{className:"text-sm font-medium text-palm-green mb-2",children:"Your intention for today:"}),u.jsxs("p",{className:"text-gray-900 italic text-lg font-serif",children:['"',r,'"']})]})]}):n?u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:`rounded-lg p-6 border ${d(n.category)}`,children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx(Jy,{className:"w-6 h-6 mt-1 flex-shrink-0 opacity-60"}),u.jsxs("div",{children:[u.jsxs("blockquote",{className:"text-lg font-medium mb-3 leading-relaxed font-serif italic",children:['"',n.text,'"']}),u.jsxs("cite",{className:"text-base font-semibold",children:[" ",n.author]})]})]})}),u.jsxs("div",{className:"bg-gradient-to-br from-golden-cream to-warm-blush rounded-lg p-6 border border-golden-cream",children:[u.jsx("h4",{className:"text-lg font-bold text-soft-clay mb-3",children:" Today's Tip:"}),u.jsx("p",{className:"text-gray-900 leading-relaxed",children:i})]}),u.jsxs("form",{onSubmit:c,className:"bg-white rounded-lg p-6 border space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:[u.jsx(Pi,{className:"w-5 h-5 inline mr-2"}),"What's your main intention or focus for today?"]}),u.jsx("textarea",{value:a,onChange:f=>l(f.target.value),className:"w-full px-4 py-3 border border-greige rounded-lg focus:ring-2 focus:ring-soft-clay focus:border-transparent resize-none",rows:4,placeholder:"Based on today's inspiration, I intend to focus on...",required:!0})]}),u.jsx("button",{type:"submit",disabled:!a.trim(),className:"w-full bg-gradient-to-r from-soft-clay to-muted-taupe text-white py-3 px-6 rounded-lg font-semibold hover:from-muted-taupe hover:to-soft-clay focus:ring-2 focus:ring-soft-clay focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Set My Intention"})]})]}):u.jsx("div",{className:"bg-white rounded-lg border p-6",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})}function pv({prompt:t,onComplete:e,isCompleted:r,morningIntention:n,userGoals:s,completedReflection:i,completedRating:o,committedAction:a,actionCompleted:l,onActionCompletionUpdate:c}){const[d,f]=E.useState(""),[p,g]=E.useState(0),[w,v]=E.useState(0),_=()=>{const h={"Save more money":"saving money","Reduce spending":"reducing your spending","Build an emergency fund":"building your emergency fund","Pay off debt":"paying off debt","Invest for the future":"investing for your future","Track expenses better":"tracking your expenses","Create a budget":"creating your budget","Improve financial mindset":"improving your financial mindset"};return n?{greeting:"Hey there! Let's reflect on your day together.",mainPrompt:`Earlier today, you set an intention to focus on: "${n}". How did that go for you?`,followUp:["What moments today made you feel proud of your progress?","Was there anything that made it challenging to stick to your intention?","What's one thing you learned about yourself today?"]}:{greeting:"No worries about missing the morning intention - life happens!",mainPrompt:`Let's still take a moment to reflect. How did your day go with ${s&&s.length>0?`working on ${s.slice(0,2).map(k=>h[k]||k.toLowerCase()).join(" and ")}`:"your financial journey"}?`,followUp:["What's one small win you can celebrate from today?","Did anything happen today that moved you closer to your goals?","What's on your mind as you wrap up the day?"]}},y=h=>{h.preventDefault(),d.trim()&&p>0&&e(d,p)};if(r)return u.jsxs("div",{className:"bg-gradient-to-br from-opal to-soft-sky rounded-lg border border-opal p-6",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-opal rounded-lg flex items-center justify-center",children:u.jsx(Ih,{className:"w-6 h-6 text-muted-taupe"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Thanks for sharing!"}),u.jsx("p",{className:"text-muted-taupe",children:"Your reflection helps you grow. See you tomorrow! "})]})]}),i&&u.jsxs("div",{className:"bg-white/80 rounded-lg p-4 border border-opal mb-4",children:[u.jsx("p",{className:"text-sm font-medium text-muted-taupe mb-2",children:"Your reflection:"}),u.jsxs("p",{className:"text-gray-900 mb-3 italic font-serif",children:['"',i,'"']}),o&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-muted-taupe",children:"Your day rating:"}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(h=>u.jsx(ar,{className:`w-4 h-4 ${h<=o?"text-golden-cream fill-current":"text-gray-300"}`},h))}),u.jsxs("span",{className:"text-sm text-muted-taupe",children:["(",o,"/5)"]})]})]})]});const m=_();return u.jsx("div",{className:"bg-white rounded-lg border p-6",children:u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a&&c&&u.jsxs("div",{className:"bg-golden-cream/30 rounded-lg p-4 border border-golden-cream",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Action Check-in"}),u.jsxs("p",{className:"text-gray-700 mb-4",children:["This morning you committed to: ",u.jsxs("strong",{children:['"',a,'"']})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-gray-700 font-medium",children:"Did you complete this action?"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>c(!0),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l===!0?"bg-green-100 text-green-800 border-2 border-green-300":"bg-white text-gray-700 border border-gray-300 hover:bg-green-50"}`,children:" Yes, I did it!"}),u.jsx("button",{type:"button",onClick:()=>c(!1),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l===!1?"bg-orange-100 text-orange-800 border-2 border-orange-300":"bg-white text-gray-700 border border-gray-300 hover:bg-orange-50"}`,children:" Not this time"})]})]}),l===!0&&u.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:u.jsx("p",{className:"text-green-800 font-medium",children:" Awesome! You followed through on your commitment!"})}),l===!1&&u.jsx("div",{className:"mt-3 p-3 bg-orange-50 rounded-lg border border-orange-200",children:u.jsx("p",{className:"text-orange-800",children:"That's okay! Every attempt is progress. What did you learn?"})})]}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-opal/50 rounded-lg p-4 border border-opal",children:[u.jsx("p",{className:"text-gray-900 font-medium mb-3",children:m.mainPrompt}),u.jsx("div",{className:"space-y-2",children:m.followUp.map((h,x)=>u.jsxs("p",{className:"text-sm text-muted-taupe flex items-start gap-2",children:[u.jsx("span",{className:"text-greige mt-1",children:""}),h]},x))})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Share whatever's on your mind - there's no right or wrong answer:"}),u.jsx("textarea",{value:d,onChange:h=>f(h.target.value),className:"w-full px-4 py-3 border border-greige rounded-lg focus:ring-2 focus:ring-muted-taupe focus:border-transparent resize-none",rows:5,placeholder:"I felt... Today I... Tomorrow I want to... or just share what's on your mind!",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"How are you feeling about today? (1 = rough day, 5 = amazing day)"}),u.jsx("div",{className:"flex gap-2 justify-center",children:[1,2,3,4,5].map(h=>u.jsx("button",{type:"button",onClick:()=>g(h),onMouseEnter:()=>v(h),onMouseLeave:()=>v(0),className:"p-2 transition-all duration-200 hover:scale-110",children:u.jsx(ar,{className:`w-8 h-8 ${h<=(w||p)?"text-golden-cream fill-current":"text-gray-300"}`})},h))}),u.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mt-2",children:[u.jsx("span",{children:"Tough day"}),u.jsx("span",{children:"Amazing day"})]})]}),u.jsx("button",{type:"submit",disabled:!d.trim()||p===0,className:"w-full bg-gradient-to-r from-muted-taupe to-soft-clay text-white py-3 px-6 rounded-lg font-semibold hover:from-soft-clay hover:to-muted-taupe focus:ring-2 focus:ring-muted-taupe focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"Share My Reflection"})]})})}function mv(){const[t,e]=E.useState("default"),[r,n]=E.useState(null),{user:s}=lt(),{profile:i}=ml();E.useEffect(()=>{if("Notification"in window){e(Notification.permission);const p=setInterval(()=>{e(Notification.permission)},1e3);return()=>clearInterval(p)}},[]);const o=async()=>{if(!("Notification"in window))return console.log("This browser does not support notifications"),!1;if(t==="granted")return!0;const f=await Notification.requestPermission();return e(f),f==="granted"?(await a(),setTimeout(()=>{e(Notification.permission)},100),!0):!1},a=async()=>{if(!("serviceWorker"in navigator)||!("PushManager"in window)){console.log("Push messaging is not supported");return}try{const f=await navigator.serviceWorker.ready,p=await f.pushManager.getSubscription();if(p){n(p);return}const g=await f.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gv("BEl62iUYgUivxIkv69yViEuiBIa40HI80NqIUHI80NqIUHI80NqIUHI80NqIUHI80NqIUHI80NqI")});n(g)}catch(f){console.error("Error setting up push subscription:",f)}},l=async()=>{if(!i||t!=="granted")return;const f=i.notification_morning||"07:00:00",p=i.notification_evening||"20:00:00";c("The Mindful Money App","Start your day with intention and inspiration! ",f),c("The Mindful Money App","Time to reflect on your progress today! ",p)},c=(f,p,g)=>{const[w,v]=g.split(":").map(Number),_=new Date,y=new Date;y.setHours(w,v,0,0),y<=_&&y.setDate(y.getDate()+1);const m=y.getTime()-_.getTime();setTimeout(()=>{t==="granted"&&new Notification(f,{body:p,tag:f.toLowerCase().replace(" ","-"),requireInteraction:!0}),setTimeout(()=>c(f,p,g),24*60*60*1e3)},m)};return{permission:t,subscription:r,requestPermission:o,scheduleNotifications:l,showTestNotification:()=>{t==="granted"&&"Notification"in window?(console.log("Showing test notification..."),new Notification("Money Mindset",{body:"Test notification - your notifications are working! ",icon:"/favicon.ico",tag:"test-notification",requireInteraction:!1})):(console.log("Cannot show notification. Permission:",t,"Notification support:","Notification"in window),alert("Notifications are not available. Permission: "+t))},isSupported:"Notification"in window}}function gv(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}function yv(){const{permission:t,requestPermission:e,scheduleNotifications:r,showTestNotification:n,isSupported:s}=mv(),[i,o]=E.useState(!1),a=async()=>{o(!0);try{await e()&&await r()}catch(f){console.error("Error enabling notifications:",f)}finally{o(!1)}},l=()=>{switch(t){case"granted":return u.jsx(ts,{className:"w-6 h-6 text-green-600"});case"denied":return u.jsx(gl,{className:"w-6 h-6 text-red-600"});default:return u.jsx(qu,{className:"w-6 h-6 text-gray-600"})}},c=()=>{switch(t){case"granted":return"Notifications enabled";case"denied":return"Notifications blocked";default:return"Notifications not set up"}},d=()=>{switch(t){case"granted":return"bg-sage-green/10 border-sage-green/30";case"denied":return"bg-warm-blush border-soft-clay/30";default:return"bg-golden-cream border-golden-cream"}};return s?u.jsxs("div",{className:`rounded-3xl p-8 border shadow-xl ${d()}`,children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{className:"flex items-center gap-6",children:[l(),u.jsxs("div",{children:[u.jsx("p",{className:"text-xl font-semibold text-slate-900 tracking-wide",children:c()}),u.jsx("p",{className:"text-lg text-slate-600 font-medium",children:t==="granted"?"You'll receive daily reminders at 7 AM and 8 PM":"Get reminded for your daily intentions and reflections"})]})]})}),u.jsxs("div",{className:"flex gap-4",children:[t!=="granted"&&u.jsxs("button",{onClick:a,disabled:i||t==="denied",className:"flex items-center gap-3 px-8 py-5 bg-gradient-to-r from-soft-clay to-muted-taupe text-white text-lg font-semibold rounded-2xl hover:from-muted-taupe hover:to-soft-clay disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl tracking-wide",children:[u.jsx(qu,{className:"w-5 h-5"}),i?"Setting up...":"Enable Notifications"]}),t==="granted"&&u.jsxs("button",{onClick:n,className:"flex items-center gap-3 px-8 py-5 bg-gradient-to-r from-muted-taupe to-soft-clay text-white text-lg font-semibold rounded-2xl hover:from-soft-clay hover:to-muted-taupe transition-all duration-200 shadow-lg hover:shadow-xl tracking-wide",title:"Click to test if notifications are working",children:[u.jsx(ev,{className:"w-5 h-5"}),"Test Notification"]}),t==="denied"&&u.jsx("p",{className:"text-lg text-red-600 font-medium",children:"Please enable notifications in your browser settings to receive reminders"})]})]}):u.jsx("div",{className:"bg-warm-beige/30 rounded-2xl p-8 border border-greige shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(My,{className:"w-6 h-6 text-gray-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Notifications not supported"}),u.jsx("p",{className:"text-base text-gray-500",children:"Your browser doesn't support notifications"})]})]})})}function vv({badges:t,userBadges:e,showAll:r=!1,userStats:n}){const s=e.map(g=>g.badge_id),i=g=>({star:ar,target:Pi,zap:nv,trophy:tv,medal:Gy,crown:By,gem:Wy,award:zr})[g]||zr,o=(g,w)=>{if(!w)return"bg-gray-100 border-gray-200 text-gray-400";switch(g.requirement_type){case"streak":return"bg-orange-100 border-orange-200 text-orange-600";case"completion":return"bg-blue-100 border-blue-200 text-blue-600";case"milestone":return"bg-purple-100 border-purple-200 text-purple-600";default:return"bg-emerald-100 border-emerald-200 text-emerald-600"}},a=g=>{if(!n)return"";let w=0,v=g.requirement_value;if(s.includes(g.id))return"";if(g.name==="First Steps")return w=n.totalMorningIntentions||0,`${w}/${v} morning intentions`;if(g.name==="Getting Started")return w=n.totalCompletions,`${w}/${v} full days`;switch(g.requirement_type){case"streak":return w=n.currentStreak,`${w}/${v} days`;case"completion":return w=n.totalCompletions,`${w}/${v} full days`;case"milestone":return w=n.totalStars,`${w}/${v} stars`}return""},l=g=>{if(!n)return 0;if(s.includes(g.id))return 100;let w=0,v=g.requirement_value;if(g.name==="First Steps")w=n.totalMorningIntentions||0;else if(g.name==="Getting Started")w=n.totalCompletions;else switch(g.requirement_type){case"streak":w=n.currentStreak;break;case"completion":w=n.totalCompletions;break;case"milestone":w=n.totalStars;break}return Math.min(w/v*100,100)},c=g=>{switch(g.requirement_type){case"streak":return`${g.requirement_value} consecutive days`;case"completion":return`${g.requirement_value} full days (morning + evening)`;case"milestone":return`${g.requirement_value} total stars`;default:return""}},d=()=>{const g=t.filter(w=>!s.includes(w.id));return g.length===0?null:g.sort((w,v)=>{const _=l(w),y=l(v);return _>=100&&y>=100||Math.abs(y-_)<1?w.requirement_value-v.requirement_value:y-_})[0]},f=r?t:t.slice(0,6),p=d();return t.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(zr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"No badges available yet"})]}):u.jsxs("div",{className:"space-y-6",children:[p&&u.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 border border-purple-200",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center",children:Xh.createElement(i(p.icon),{className:"w-6 h-6 text-gray-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:["Next Badge: ",p.name]}),u.jsx("p",{className:"text-gray-600 mb-3",children:p.description}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${l(p)}%`}})}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:a(p)})]})]})]}),u.jsxs("div",{className:"text-sm text-purple-700 bg-white/70 rounded-lg p-3",children:[u.jsx("strong",{children:"How to earn:"})," ",c(p)]})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:f.map(g=>{const w=s.includes(g.id),v=i(g.icon),_=e.find(m=>m.badge_id===g.id),y=l(g);return u.jsxs("div",{className:`relative p-4 rounded-lg border-2 transition-all duration-200 ${o(g,w)} ${w?"shadow-lg hover:shadow-xl transform hover:scale-105":"opacity-60 hover:opacity-80"}`,children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`w-12 h-12 mx-auto mb-3 rounded-lg flex items-center justify-center ${w?"bg-white shadow-md":"bg-gray-200"}`,children:u.jsx(v,{className:"w-6 h-6"})}),u.jsx("h4",{className:"font-bold text-sm mb-2",children:g.name}),u.jsx("p",{className:"text-xs opacity-80 leading-tight mb-3",children:g.description}),w&&_&&u.jsxs("div",{className:"text-xs opacity-70",children:["Earned ",new Date(_.earned_at).toLocaleDateString()]}),!w&&u.jsxs("div",{className:"space-y-2",children:[a(g)&&u.jsx("div",{className:"text-xs font-medium",children:a(g)}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-current h-2 rounded-full transition-all duration-300",style:{width:`${y}%`}})}),a(g)&&u.jsx("div",{className:"text-xs opacity-60",children:c(g)})]})]}),w&&u.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-full flex items-center justify-center",children:u.jsx(ar,{className:"w-3 h-3 text-yellow-800 fill-current"})})]},g.id)})})]})}function wv({badges:t,onClose:e}){const[r,n]=E.useState(0),[s,i]=E.useState(!0);if(E.useEffect(()=>{if(t.length===0)return;const a=setInterval(()=>{n(l=>l>=t.length-1?(setTimeout(()=>{i(!1),setTimeout(e,300)},1e3),l):l+1)},3e3);return()=>clearInterval(a)},[t.length,e]),!s||t.length===0)return null;const o=t[r];return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 text-center animate-in fade-in zoom-in duration-300",children:[u.jsx("button",{onClick:()=>{i(!1),setTimeout(e,300)},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:u.jsx($h,{className:"w-5 h-5"})}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(zr,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Badge Earned! "})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-xl p-4 mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o.name}),u.jsx("p",{className:"text-gray-600 text-sm",children:o.description})]}),t.length>1&&u.jsx("div",{className:"flex justify-center gap-2 mb-4",children:t.map((a,l)=>u.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${l===r?"bg-purple-500":"bg-gray-300"}`},l))}),u.jsx("div",{className:"text-xs text-gray-500",children:t.length>1&&r<t.length-1?`${r+1} of ${t.length} new badges`:"Keep up the great work!"})]})})}function xv({onClose:t}){const{user:e}=lt(),[r,n]=E.useState([]),[s,i]=E.useState(null),[o,a]=E.useState(new Date),[l,c]=E.useState("calendar"),[d,f]=E.useState(!0);E.useEffect(()=>{e&&p()},[e]);const p=async()=>{if(e)try{const{data:h,error:x}=await L.from("daily_entries").select("*").eq("user_id",e.id).order("entry_date",{ascending:!1});if(x)throw x;n(h||[])}catch(h){console.error("Error fetching entries:",h)}finally{f(!1)}},g=h=>{const x=h.getFullYear(),k=h.getMonth(),S=new Date(x,k,1),N=new Date(x,k+1,0).getDate(),M=S.getDay(),R=[];for(let H=0;H<M;H++)R.push(null);for(let H=1;H<=N;H++)R.push(new Date(x,k,H));return R},w=h=>{const x=h.toISOString().split("T")[0];return r.find(k=>k.entry_date===x)},v=h=>new Date(h+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),_=h=>{a(x=>{const k=new Date(x);return h==="prev"?k.setMonth(x.getMonth()-1):k.setMonth(x.getMonth()+1),k})},y=g(o),m=o.toLocaleDateString("en-US",{month:"long",year:"numeric"});return d?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-lg p-6",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600 mx-auto"})})}):u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Journey"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>c("calendar"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${l==="calendar"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Calendar"}),u.jsx("button",{onClick:()=>c("list"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${l==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600"}`,children:"Timeline"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-xl font-bold",children:""})]})]}),u.jsxs("div",{className:"flex h-[calc(90vh-120px)]",children:[u.jsx("div",{className:"flex-1 overflow-y-auto",children:l==="calendar"?u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("button",{onClick:()=>_("prev"),className:"p-2 hover:bg-gray-100 rounded-lg",children:u.jsx(Uy,{className:"w-5 h-5"})}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m}),u.jsx("button",{onClick:()=>_("next"),className:"p-2 hover:bg-gray-100 rounded-lg",children:u.jsx(zy,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(h=>u.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-500",children:h},h))}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:y.map((h,x)=>{if(!h)return u.jsx("div",{className:"p-2"},x);const k=w(h),S=h.toDateString()===new Date().toDateString(),j=!!k;return u.jsxs("button",{onClick:()=>k&&i(k),className:`p-2 text-sm rounded-lg transition-all relative ${S?"bg-emerald-100 text-emerald-800 font-bold":j?"bg-blue-50 text-blue-800 hover:bg-blue-100":"text-gray-400 hover:bg-gray-50"}`,children:[h.getDate(),j&&u.jsxs("div",{className:"absolute top-1 right-1 flex gap-0.5",children:[k.morning_completed&&u.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-400 rounded-full"}),k.evening_completed&&u.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"})]}),(k==null?void 0:k.stars_earned)&&k.stars_earned>0&&u.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2",children:u.jsxs("div",{className:"bg-yellow-400 text-yellow-900 text-xs font-bold px-1 py-0.5 rounded-full shadow-sm border border-yellow-500",children:[k.stars_earned,""]})})]},h.toISOString())})})]}):u.jsx("div",{className:"p-6 space-y-4",children:r.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Hu,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"No entries yet. Start your journey today!"})]}):r.map(h=>u.jsxs("button",{onClick:()=>i(h),className:"w-full text-left p-4 bg-gray-50 hover:bg-gray-100 rounded-lg border transition-colors",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"font-semibold text-gray-900",children:v(h.entry_date)}),u.jsxs("div",{className:"flex items-center gap-2",children:[h.stars_earned&&h.stars_earned>0&&u.jsxs("span",{className:"text-yellow-600 font-bold text-sm",children:[h.stars_earned,""]}),u.jsxs("div",{className:"flex gap-1",children:[h.morning_completed&&u.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),h.evening_completed&&u.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"})]})]})]}),h.morning_intention&&u.jsxs("p",{className:"text-sm text-gray-600 truncate",children:["Intention: ",h.morning_intention]})]},h.id))})}),s&&u.jsx("div",{className:"w-80 border-l bg-gray-50 overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v(s.entry_date)}),u.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),u.jsxs("div",{className:"space-y-6",children:[s.stars_earned&&s.stars_earned>0&&u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[u.jsx(ar,{className:"w-5 h-5 text-yellow-600"}),u.jsx("div",{children:u.jsxs("div",{className:"font-semibold text-yellow-800",children:[s.stars_earned," Stars Earned"]})})]}),s.morning_intention&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Pi,{className:"w-4 h-4 text-yellow-600"}),u.jsx("h4",{className:"font-semibold text-gray-700",children:"Morning Intention"}),s.morning_completed&&u.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Completed"})]}),u.jsxs("p",{className:"text-gray-600 bg-white p-3 rounded-lg border italic",children:['"',s.morning_intention,'"']}),s.morning_completed_at&&u.jsxs("p",{className:"text-xs text-gray-500",children:["Completed at ",new Date(s.morning_completed_at).toLocaleTimeString()]})]}),s.reflection_text&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Qy,{className:"w-4 h-4 text-purple-600"}),u.jsx("h4",{className:"font-semibold text-gray-700",children:"Evening Reflection"}),s.evening_completed&&u.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Completed"})]}),u.jsxs("p",{className:"text-gray-600 bg-white p-3 rounded-lg border italic",children:['"',s.reflection_text,'"']}),s.rating&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Day rating:"}),u.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(h=>u.jsx(ar,{className:`w-4 h-4 ${h<=s.rating?"text-yellow-400 fill-current":"text-gray-300"}`},h))}),u.jsxs("span",{className:"text-sm text-gray-600",children:["(",s.rating,"/5)"]})]}),s.evening_completed_at&&u.jsxs("p",{className:"text-xs text-gray-500",children:["Completed at ",new Date(s.evening_completed_at).toLocaleTimeString()]})]}),!s.morning_intention&&!s.reflection_text&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Hu,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"No activities recorded for this day"})]})]})]})})]})]})})}function _v({milestone:t,onClose:e,onSubmit:r}){const[n,s]=E.useState(0),[i,o]=E.useState(0),[a,l]=E.useState(""),[c,d]=E.useState(!1),[f,p]=E.useState(!1),{user:g}=lt(),w=()=>{switch(t){case 7:return{title:" Amazing! You've completed 7 days!",subtitle:"You're building a powerful habit. How has your first week been?",prompt:"What's the biggest change you've noticed in your relationship with money this week?"};case 30:return{title:" Incredible! 30 days of growth!",subtitle:"You're officially building a life-changing habit. What's different now?",prompt:"How has this daily practice changed your financial confidence or decision-making?"};case 90:return{title:" Phenomenal! 90 days of transformation!",subtitle:"You're a true Mindful Money champion. What would you tell others?",prompt:"What advice would you give to someone just starting their money mindset journey?"}}},v=async y=>{if(y.preventDefault(),!(!g||n===0||!a.trim())){p(!0);try{const{error:m}=await L.from("testimonials").insert({user_id:g.id,milestone_days:t,rating:n,testimonial_text:a,allow_public_use:c,submitted_at:new Date().toISOString()});if(m)throw m;r()}catch(m){console.error("Error submitting testimonial:",m),alert("There was an error submitting your testimonial. Please try again.")}finally{p(!1)}}},_=w();return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:u.jsx($h,{className:"w-5 h-5"})}),u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(qy,{className:"w-8 h-8 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:_.title}),u.jsx("p",{className:"text-gray-600 mb-4",children:_.subtitle})]}),u.jsxs("form",{onSubmit:v,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"How would you rate your experience so far?"}),u.jsx("div",{className:"flex gap-2 justify-center",children:[1,2,3,4,5].map(y=>u.jsx("button",{type:"button",onClick:()=>s(y),onMouseEnter:()=>o(y),onMouseLeave:()=>o(0),className:"p-2 transition-all duration-200 hover:scale-110",children:u.jsx(ar,{className:`w-8 h-8 ${y<=(i||n)?"text-yellow-400 fill-current":"text-gray-300"}`})},y))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:_.prompt}),u.jsx("textarea",{value:a,onChange:y=>l(y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none",rows:4,placeholder:"Share your experience...",required:!0})]}),u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("input",{type:"checkbox",id:"allowPublic",checked:c,onChange:y=>d(y.target.checked),className:"mt-1 w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),u.jsxs("label",{htmlFor:"allowPublic",className:"text-sm text-gray-600",children:["I'm happy for this testimonial to be shared publicly to help inspire others on their money mindset journey.",u.jsx("span",{className:"text-gray-500",children:"(Your name will be kept private - we'll only use your first name and last initial)"})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Maybe Later"}),u.jsx("button",{type:"submit",disabled:f||n===0||!a.trim(),className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-3 px-4 rounded-lg font-medium hover:from-emerald-700 hover:to-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:f?"Submitting...":u.jsxs(u.Fragment,{children:[u.jsx(Xy,{className:"w-4 h-4"}),"Share My Experience"]})})]})]})]})})}function kv(){const[t,e]=E.useState(null),[r,n]=E.useState([]),{user:s}=lt();E.useEffect(()=>{s&&(o(),i())},[s]);const i=async()=>{if(s)try{const{data:c,error:d}=await L.from("testimonials").select("*").eq("user_id",s.id).order("submitted_at",{ascending:!1});if(d)throw d;n(c||[])}catch(c){console.error("Error fetching user testimonials:",c)}},o=async()=>{if(s)try{const{data:c,error:d}=await L.from("daily_entries").select("entry_date, morning_completed, evening_completed").eq("user_id",s.id).order("entry_date",{ascending:!1});if(d)throw d;const f=(c==null?void 0:c.filter(v=>v.morning_completed&&v.evening_completed).length)||0,{data:p,error:g}=await L.from("testimonials").select("milestone_days").eq("user_id",s.id);if(g)throw g;const w=(p==null?void 0:p.map(v=>v.milestone_days))||[];f>=90&&!w.includes(90)?e(90):f>=30&&!w.includes(30)?e(30):f>=7&&!w.includes(7)&&e(7)}catch(c){console.error("Error checking milestone prompt:",c)}};return{shouldShowPrompt:t,userTestimonials:r,dismissPrompt:()=>{e(null)},handleTestimonialSubmitted:()=>{e(null),i()},refetch:o}}function Sv(){var Ze;const{user:t,signOut:e}=lt(),{profile:r}=ml(),{tip:n,quickActions:s,prompt:i,loading:o}=lv(),{badges:a,userBadges:l,loading:c,checkAndAwardBadges:d,refetch:f}=uv(),{shouldShowPrompt:p,dismissPrompt:g,handleTestimonialSubmitted:w}=kv(),[v,_]=E.useState(null),[y,m]=E.useState(void 0),[h,x]=E.useState({totalStars:0,totalCompletions:0,currentStreak:0}),[k,S]=E.useState(new Date),[j,N]=E.useState([]),[M,R]=E.useState(!1),H=new Date().toISOString().split("T")[0];E.useEffect(()=>{const P=setInterval(()=>{S(new Date)},6e4);return()=>clearInterval(P)},[]);const rs=(()=>{const P=k.getHours();return P>=5&&P<14?"morning":"evening"})()==="morning";E.useEffect(()=>{t&&(ns(),qe(),setTimeout(()=>{d()},1e3))},[t]);const ns=async()=>{if(t)try{const{data:P,error:B}=await L.from("daily_entries").select("*").eq("user_id",t.id).eq("entry_date",H).maybeSingle();if(B)throw B;P&&(_(P),m(P.action_completed))}catch(P){console.error("Error fetching daily entry:",P)}},qe=async()=>{if(t)try{console.log("fetchUserStats: Starting to fetch entries...");const{data:P,error:B}=await L.from("daily_entries").select("*").eq("user_id",t.id).order("entry_date",{ascending:!1});if(B){console.error("Supabase error fetching user stats:",B);return}console.log("fetchUserStats: Entries found:",(P==null?void 0:P.length)||0,P);const te=(P==null?void 0:P.reduce((ut,Oi)=>ut+(Oi.stars_earned||0),0))||0,pe=(P==null?void 0:P.filter(ut=>ut.morning_completed&&ut.evening_completed).length)||0;let J=0;const et=(P==null?void 0:P.sort((ut,Oi)=>new Date(Oi.entry_date).getTime()-new Date(ut.entry_date).getTime()))||[];for(const ut of et)if(ut.morning_completed&&ut.evening_completed)J++;else break;console.log("fetchUserStats: Calculated stats:",{totalStars:te,totalCompletions:pe,currentStreak:J}),x({totalStars:te,totalCompletions:pe,currentStreak:J})}catch(P){console.error("Network error fetching user stats:",P),x({totalStars:0,totalCompletions:0,currentStreak:0})}},en=async P=>{if(!(!t||!n))try{const B={user_id:t.id,entry_date:H,tip_id:n.id,quick_action_id:P},{data:te,error:pe}=await L.from("daily_entries").upsert(B,{onConflict:"user_id,entry_date"}).select().single();if(pe)throw pe;_(te),await qe();const J=await d();J.length>0&&N(J)}catch(B){console.error("Error completing action:",B)}},T=async P=>{if(t)try{const B=P?1:0,te={user_id:t.id,entry_date:H,action_completed:P,stars_earned:((v==null?void 0:v.stars_earned)||0)+B},{data:pe,error:J}=await L.from("daily_entries").upsert(te,{onConflict:"user_id,entry_date"}).select().single();if(J)throw J;_(pe),m(P),await qe();const et=await d();et.length>0&&N(et)}catch(B){console.error("Error updating action completion:",B)}},O=async P=>{if(t)try{const B={user_id:t.id,entry_date:H,morning_intention:P,morning_completed:!0,morning_completed_at:new Date().toISOString(),stars_earned:((v==null?void 0:v.stars_earned)||0)+2},{data:te,error:pe}=await L.from("daily_entries").upsert(B,{onConflict:"user_id,entry_date"}).select().single();if(pe)throw pe;_(te),await qe();const J=await d();J.length>0&&N(J)}catch(B){console.error("Error setting intention:",B)}},$=async(P,B)=>{if(!(!t||!i))try{const te={user_id:t.id,entry_date:H,prompt_id:i.id,reflection_text:P,rating:B,evening_completed:!0,evening_completed_at:new Date().toISOString(),stars_earned:((v==null?void 0:v.stars_earned)||0)+1},{data:pe,error:J}=await L.from("daily_entries").upsert(te,{onConflict:"user_id,entry_date"}).select().single();if(J)throw J;_(pe),await qe();const et=await d();et.length>0&&N(et)}catch(te){console.error("Error completing reflection:",te)}},Q=async()=>{if(t&&confirm("Reset today's entry? This will clear your morning intention and evening reflection."))try{const{error:P}=await L.from("daily_entries").delete().eq("user_id",t.id).eq("entry_date",H);if(P)throw P;_(null),m(void 0),await qe(),await f()}catch(P){console.error("Error resetting today entry:",P)}},ne=async()=>{if(t&&confirm("Reset ALL badges? This will remove all your earned badges but keep your stars and daily entries."))try{const{error:P}=await L.from("user_badges").delete().eq("user_id",t.id);if(P)throw console.error("Error deleting user badges:",P),P;N([]),await f(),x({totalStars:0,totalCompletions:0,currentStreak:0}),alert("All badges have been reset successfully!")}catch(P){console.error("Error resetting badges:",P),alert("Failed to reset badges. Please try again.")}},fr=async()=>{if(t&&confirm("Reset ALL DATA? This will remove all badges, daily entries, and stars. This cannot be undone!")){console.log("Starting complete data reset...");try{const{error:P}=await L.from("user_badges").delete().eq("user_id",t.id);if(P)throw console.error("Error deleting user badges:",P),P;console.log("Deleted user badges");const{data:B,error:te}=await L.from("daily_entries").select("*").eq("user_id",t.id).select();if(te)throw console.error("Error fetching entries to delete:",te),te;console.log("Found entries to delete:",(B==null?void 0:B.length)||0,B);const{error:pe}=await L.from("daily_entries").delete().eq("user_id",t.id);if(pe){console.error("Error deleting daily entries:",pe),alert(`Failed to delete entries: ${pe.message}. This is likely a Row Level Security permissions issue - the database doesn't allow deleting daily entries. You may need to contact support or check the database policies.`);return}const{data:J,error:et}=await L.from("daily_entries").select("*").eq("user_id",t.id);if(et?console.error("Error checking remaining entries:",et):console.log("Remaining entries after delete:",(J==null?void 0:J.length)||0,J),J&&J.length>0){alert(`Delete failed: ${J.length} entries still exist. This is a Row Level Security permissions issue - the database policies don't allow deleting daily entries. The reset feature cannot work without proper DELETE policies in the database.`);return}console.log("Successfully deleted all daily entries"),N([]),_(null),m(void 0),x({totalStars:0,totalCompletions:0,currentStreak:0}),console.log("Reset local state"),await f(),console.log("Refetched badges"),await ns(),console.log("Refetched daily entry"),await qe(),console.log("Refetched user stats"),alert("All data has been reset successfully!")}catch(P){console.error("Error resetting all data:",P),alert("Failed to reset all data. Please try again.")}}};return o||c?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading your daily content..."})]})}):u.jsxs("div",{className:"min-h-screen bg-soft-ivory",children:[M&&u.jsx(xv,{onClose:()=>R(!1)}),p&&u.jsx(_v,{milestone:p,onClose:g,onSubmit:w}),j.length>0&&u.jsx(wv,{badges:j,onClose:()=>N([])}),u.jsx("header",{className:"bg-white shadow-sm border-b",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:"/logo.svg",alt:"The Mindful Money App",className:"w-12 h-12 rounded-lg shadow-sm"}),u.jsx("div",{children:u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"The Mindful Money App"})})]}),u.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(r==null?void 0:r.full_name)||(t==null?void 0:t.email)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-3 py-2 bg-soft-sky/50 hover:bg-soft-sky text-muted-taupe rounded-lg transition-colors text-sm",children:[u.jsx(zr,{className:"w-4 h-4"}),u.jsx("span",{children:"View Timeline"})]}),u.jsxs("button",{onClick:Q,className:"flex items-center gap-2 px-3 py-2 bg-golden-cream hover:bg-warm-blush text-soft-clay rounded-lg transition-colors text-sm",children:[u.jsx(Yy,{className:"w-4 h-4"}),u.jsx("span",{children:"Reset Today"})]}),u.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-3 py-2 bg-warm-blush hover:bg-soft-clay/20 text-muted-taupe rounded-lg transition-colors text-sm",children:[u.jsx(Vu,{className:"w-4 h-4"}),u.jsx("span",{children:"Reset Badges Only"})]}),u.jsxs("button",{onClick:fr,className:"flex items-center gap-2 px-3 py-2 bg-soft-clay/30 hover:bg-soft-clay/50 text-muted-taupe rounded-lg transition-colors text-sm",children:[u.jsx(Vu,{className:"w-4 h-4"}),u.jsx("span",{children:"Reset All Data"})]}),u.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-3 py-2 bg-warm-beige hover:bg-greige rounded-lg transition-colors text-sm",children:[u.jsx(Vy,{className:"w-4 h-4"}),u.jsx("span",{children:"Sign Out"})]})]})]})}),u.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notifications"}),u.jsx(yv,{})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:rs?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-golden-cream rounded-lg flex items-center justify-center",children:u.jsx(Zy,{className:"w-6 h-6 text-soft-clay"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Morning Boost"}),u.jsx("p",{className:"text-gray-600",children:"Start your day with intention and inspiration"})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(fv,{onIntentionComplete:O,isCompleted:(v==null?void 0:v.morning_completed)||!1,intention:v==null?void 0:v.morning_intention}),n&&u.jsx(cv,{tip:n,quickActions:s,onActionCommit:en,committedActionId:v==null?void 0:v.quick_action_id})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-opal rounded-lg flex items-center justify-center",children:u.jsx(Ih,{className:"w-6 h-6 text-muted-taupe"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Evening Reflection"}),u.jsx("p",{className:"text-gray-600",children:"Reflect on your progress and growth"})]})]}),i&&u.jsx(pv,{prompt:i,onComplete:$,isCompleted:(v==null?void 0:v.evening_completed)||!1,morningIntention:v==null?void 0:v.morning_intention,userGoals:r==null?void 0:r.goals,completedReflection:v==null?void 0:v.reflection_text,completedRating:v==null?void 0:v.rating,committedAction:v!=null&&v.quick_action_id?(Ze=s.find(P=>P.id===v.quick_action_id))==null?void 0:Ze.action_text:void 0,actionCompleted:y,onActionCompletionUpdate:T})]})}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Progress"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center p-4 bg-sage-green/10 rounded-lg border border-sage-green/20",children:[u.jsx("div",{className:"text-2xl font-bold text-palm-green mb-1",children:(v==null?void 0:v.stars_earned)||0}),u.jsx("div",{className:"text-sm font-medium text-palm-green",children:"Stars Earned"})]}),u.jsxs("div",{className:"text-center p-4 bg-soft-sky/30 rounded-lg border border-soft-sky/50",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:v!=null&&v.morning_completed?"":""}),u.jsx("div",{className:"text-sm font-medium text-muted-taupe",children:"Intention Set"})]}),u.jsxs("div",{className:"text-center p-4 bg-opal/50 rounded-lg border border-opal",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:v!=null&&v.evening_completed?"":""}),u.jsx("div",{className:"text-sm font-medium text-muted-taupe",children:"Evening Complete"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-golden-cream rounded-lg flex items-center justify-center",children:u.jsx(zr,{className:"w-6 h-6 text-soft-clay"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Badges"}),u.jsxs("p",{className:"text-gray-600",children:[l.length," of ",a.length," earned  ",h.totalStars," total stars  ",h.currentStreak," day streak"]})]})]}),u.jsx(vv,{badges:a,userBadges:l,userStats:h})]})]})})]})}function bv(){const{user:t,loading:e}=lt(),{profile:r,loading:n}=ml(),[s,i]=E.useState(!0);return window.location.pathname==="/reset-password"||window.location.hash.includes("type=recovery")||window.location.search.includes("type=recovery")?u.jsx(ov,{}):e||n?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?!r||!r.full_name?u.jsx(av,{onComplete:()=>window.location.reload()}):u.jsx(Sv,{}):u.jsx(iv,{})}function jv(){return u.jsx($y,{children:u.jsx(bv,{})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});oh(document.getElementById("root")).render(u.jsx(E.StrictMode,{children:u.jsx(jv,{})}));
